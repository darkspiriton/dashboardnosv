!function t(e,a,o){function n(r,l){if(!a[r]){if(!e[r]){var s="function"==typeof require&&require;if(!l&&s)return s(r,!0);if(i)return i(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=a[r]={exports:{}};e[r][0].call(d.exports,function(t){var a=e[r][1][t];return n(a?a:t)},d,d.exports,t,e,a,o)}return a[r].exports}for(var i="function"==typeof require&&require,r=0;r<o.length;r++)n(o[r]);return n}({1:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Indicator7",{url:"/Reporte-de-productos-entre-fechas",templateUrl:"app/partials/auxIndicator7.html",controller:"auxIndicator7Ctrl"})}]).controller("auxIndicator7Ctrl",["$scope","$compile","$log","util","petition","toastr","$filter","chart",function(t,e,a,o,n,i,r,l){o.liPage("indicator7");var s={0:["Normal","bgm-green",!1],1:["Liquidacion","btn-info",!1],fail:["otros","bgm-red",!1]},c={Retornado:["Retornado","bgm-red",!1],Vendido:["Vendido","bgm-teal",!1],salida:["Salida","bgm-deeppurple",!1]};t.tableConfig={columns:[{sTitle:"Creacion",bSortable:!0,sWidth:"160px"},{sTitle:"Fecha",bSortable:!0,sWidth:"80px"},{sTitle:"Codigo",bSortable:!0,sWidth:"1px"},{sTitle:"Producto",bSortable:!0},{sTitle:"Color",bSortable:!0},{sTitle:"Talla",bSortable:!0},{sTitle:"Estado",bSortable:!0},{sTitle:"Estado V.",bSortable:!0},{sTitle:"P. Real",bSortable:!0},{sTitle:"Precio",bSortable:!0},{sTitle:"Desc.",bSortable:!0},{sTitle:"P. Final",bSortable:!0}],buttons:[{type:"status",list:[{name:"status_product",column:"liquidation",render:s},{name:"status_mov",column:"status",render:c}]}],data:["created_at","fecha","codigo","product","color","talla","status_mov","status_product","price_real","price","discount","price_final"]},t.data={date1:null,date2:null,status:null},t.list=function(){t.updateList=!0,t.reportDownload=!1,n.get("api/auxmovement/get/movementDay").then(function(a){t.tableData=a.movements,$("#table").AJQtable2("view2",t,e),t.updateList=!1,t.drawShow=!1},function(e){console.log(e),i.error("Huy huy dice: "+e.data.message),t.updateList=!1})},t.listProducts=function(e){t.data.size=null,t.data.color=null,t.data.provider=null,t.updateList=!0,t.reportDownload=!1,n.get("api/auxproduct/get/report",{params:t.data}).then(function(a){"p"==e?(t.products=a.products,t.sizes=[],t.colors=[]):(t.sizes=a.sizes,t.colors=a.colors),t.updateList=!1},function(e){console.log(e),i.error("Huy huy dice: "+e.data.message),t.updateList=!1})},t.listProviders=function(){n.get("api/auxproviders").then(function(e){t.providers=e.providers},function(t){console.log(t),i.error("Huy huy dice: "+t.data.message)})},t.filter=function(){t.updateList=!0,t.dateSave=angular.copy(t.data),t.dateSave.date1=r("date")(t.data.date1,"yyyy-MM-dd"),t.dateSave.date2=r("date")(t.data.date2,"yyyy-MM-dd"),n.get("api/auxmovement/get/movementDays",{params:t.dateSave}).then(function(a){t.reportDownload=!0,t.tableData=a.movements,t.infoMonth=a.month,$("#table").AJQtable2("view2",t,e),t.updateList=!1,a.movements.length>0?(l.drawColummn(a.draw,a.days),t.drawShow=!0):t.drawShow=!1},function(e){console.log(e),i.error("Huy huy dice: "+e.data.message),t.updateList=!1})},t.download=function(){n.post("api/auxmovement/get/movementDays/download",t.dateSave,{responseType:"arraybuffer"}).then(function(e){var a=(new Date).getTime(),o=a+"-reporte-de-movimiento-"+t.dateSave.date1+"-al-"+t.dateSave.date2+".pdf",n=new Blob([e],{type:"application/pdf"});saveAs(n,o)},function(t){console.info(t)})},t.noProduct=function(){t.data.name=null,t.data.size=null,t.data.color=null,t.sizes=[],t.colors=[]},angular.element(document).ready(function(){o.resetTable(t,e),t.product=angular.copy(t.productClear),t.list(),t.listProviders(),t.listProducts("p")})}])},{}],2:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Movimientos2",{url:"/Generar-retorno-y-ventas",templateUrl:"app/partials/auxMovement2.html",controller:"auxMovement2Ctrl"})}]).controller("auxMovement2Ctrl",["$scope","$compile","$state","$log","util","petition","toformData","toastr",function(t,e,a,o,n,i,r,l){n.liPage("movimientos2"),t.tableConfig={columns:[{sTitle:"Fecha de creación",bSortable:!0,sWidth:"90px"},{sTitle:"Fecha de salida",bSortable:!0,sWidth:"90px"},{sTitle:"Codigo",bSortable:!0},{sTitle:"Producto",bSortable:!0},{sTitle:"Talla",bSortable:!1},{sTitle:"Color",bSortable:!1},{sTitle:"Precio  (S/)",bSortable:!1},{sTitle:"Descuento (S/)",bSortable:!1},{sTitle:"Precio Final (S/)",bSortable:!1},{sTitle:"Tipo",bSortable:!1,sWidth:"80px"},{sTitle:"Acción",bSortable:!1,bSearchable:!1,sWidth:"420px"}],actions:[["status",{0:{txt:"regular",cls:"bgm-green",dis:!1},1:{txt:"liquidacion",cls:"btn-info",dis:!1}}],["actions",[["Retornado","prdReturn","bgm-teal"],["Vendido","prdSale","bgm-blue"],["reprogramar","reprogramar","bgm-purple"]]]],data:["movement.created_at","movement.date_shipment","cod","name","size.name","color.name","price","movement.discount","pricefinal","status","actions"],configStatus:"liquidation"};var s={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0,html:!0};t.productClear={id:null,situation:null},t.situations=[{id:1,name:"No le gusto"},{id:2,name:"La foto no es igual al producto"},{id:3,name:"Producto dañado"},{id:4,name:"No se encontro al cliente"},{id:5,name:"No es la talla"},{id:6,name:"No se encontro el código"},{id:7,name:"No llegamos al cliente"},{id:8,name:"Cliente cancelo su pedido"}],t.list=function(){t.updateList=!0,i.get("api/auxmovement/get/movement").then(function(a){t.tableData=a.products,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),l.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.prdSale=function(e){s.title="¿Todo es correcto?",s.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>\n                                            <th>Cod</th>\n                                            <th>Producto</th>\n                                            <th>Talla</th>\n                                            <th>Color</th>\n                                            <th>Precio</th>\n                                            <th>Desc.</th>\n                                            <th>Final</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>\n                                            <th>'+t.tableData[e].cod+"</th>\n                                            <th>"+t.tableData[e].name+"</th>\n                                            <td>"+t.tableData[e].size.name+"</td>\n                                            <td>"+t.tableData[e].color.name+"</td>\n                                            <td>"+t.tableData[e].price+"</td>\n                                            <td>"+t.tableData[e].movement.discount+"</td>\n                                            <td>"+t.tableData[e].pricefinal+"</td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                </div>",swal(s,function(){i.post("api/auxmovement/set/sale",{id:t.tableData[e].product_id}).then(function(e){l.success(e.message),t.formSubmit=!1,t.list()},function(e){l.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})},t.prdReturn=function(e){t.product.id=t.tableData[e].product_id,t.product.cod=t.tableData[e].cod,t.product.name=t.tableData[e].name,t.product.size=t.tableData[e].size.name,t.product.color=t.tableData[e].color.name,t.product.situation=null,n.modal()},t.submit=function(){s.title="¿Todo es correcto?",s.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>\n                                            <th>Cod</th>\n                                            <th>Producto</th>\n                                            <th>Talla</th>\n                                            <th>Color</th>\n                                            <th>Motivo</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>\n                                            <th>'+t.product.cod+"</th>\n                                            <th>"+t.product.name+"</th>\n                                            <td>"+t.product.size+"</td>\n                                            <td>"+t.product.color+"</td>\n                                            <td>"+function(){var e="";switch(t.product.situation){case 1:e="No le gusto";break;case 2:e="La foto no es igual al producto";break;case 3:e="Producto dañado";break;case 4:e="No se encontro cliente";break;case 5:e="No es la talla";break;case 6:e="No se encontro el código";break;case 7:e="No llegamos al cliente";break;case 8:e="Cliente cancelo su pedido"}return e}()+"\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                </div>",swal(s,function(){i.post("api/auxmovement",t.product).then(function(e){l.success(e.message),t.formSubmit=!1,t.list(),n.modalClose()},function(e){l.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})},t.cancel=function(){n.modalClose()},t.prdProgram=function(){s.title="¿Todo es correcto?",s.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>\n                                            <th>Cod</th>\n                                            <th>Producto</th>\n                                            <th>Talla</th>\n                                            <th>Color</th>\n                                            <th>Fecha salida</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                            <tr>\n                                                <th>'+t.tableData[t.index].cod+"</th>\n                                                <th>"+t.tableData[t.index].name+"</th>\n                                                <td>"+t.tableData[t.index].size.name+"</td>\n                                                <td>"+t.tableData[t.index].color.name+"</td>\n                                                <td>"+function(){var e=t.programDate.getDate(),a=1==t.programDate.getMonth().toString().length?"0".concat((t.programDate.getMonth()+1).toString()):(t.programDate.getMonth()+1).toString(),o=t.programDate.getFullYear(),n="";return n.concat(e,"-",a,"-",o)}()+"</td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>",swal(s,function(){var e=t.tableData[t.index].movement.id;i.put("api/auxmovement/"+e,{date:t.programDate}).then(function(e){l.success(e.message),t.formSubmit=!1,t.list(),n.modalClose("reProgram")},function(e){l.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})},t.reprogramar=function(e){t.index=e,t.programDate=null,n.modal("reProgram")},angular.element(document).ready(function(){n.resetTable(t,e),t.product=angular.copy(t.productClear),t.list()})}])},{}],3:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Movimientos",{url:"/Generar-movimientos",templateUrl:"app/partials/auxMovement.html",controller:"auxMovementCtrl"})}]).controller("auxMovementCtrl",["$scope","$compile","$state","$log","$filter","util","petition","toformData","toastr",function(t,e,a,o,n,r,l,s,c){function d(t,e){for(i in t)if(void 0==t[i].date)return void c.error("Uyuyuy dice: Falta ingresar fecha de salida");return e()}function u(){t.dataProducts=angular.copy(t.productsClear),t.products=angular.copy(t.productsClear)}r.liPage("movimientos"),t.tableConfig={columns:[{sTitle:"Codigo",bSortable:!0},{sTitle:"Nombre",bSortable:!0},{sTitle:"Color",bSortable:!0},{sTitle:"Talla",bSortable:!0},{sTitle:"Precio Venta (S/.)",bSortable:!0},{sTitle:"Precio",bSearchable:!1,sWidth:"80px"},{sTitle:"Acción",bSearchable:!1,sWidth:"190px"}],actions:[["status",{0:{txt:"regular",cls:"bgm-green",dis:!1},1:{txt:"liquidacion",cls:"btn-info",dis:!1}}],["actions",[["Agregar","addProduct","bgm-teal"],["x codigo","otherProduct","bgm-purple"]]]],data:["cod","name","color","size","price","status","actions"],configStatus:"status"};var m={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0,html:!0},p={title:"¿Se genero la salida de productos?",text:"",type:"success",html:!0};t.productsClear=[],t.list=function(){t.updateList=!0,l.get("api/auxmovement").then(function(a){t.tableData=a.products,$("#table").AJQtable("view",t,e),t.updateList=!1},function(a){c.error("Uyuyuy dice: "+a.data.message),r.resetTable(t,e),t.updateList=!1})},t.addProduct=function(e){var a=0;for(i in t.products)angular.equals(t.tableData[e],t.products[i])&&a++;0==a&&t.anadir&&(c.success("se añadio"),t.dataProducts.push({id:t.tableData[e].id,discount:0}),t.tableData[e].discount=0,t.tableData[e].preciofinal=t.tableData[e].price-t.tableData[e].discount,t.products.push(angular.copy(t.tableData[e])))},t.addProduct2=function(e){t.prdTemp.id=t.codes[e].id,t.prdTemp.cod=t.codes[e].cod;var a=0;for(i in t.products)angular.equals(t.prdTemp,t.products[i])&&a++;0==a&&t.anadir&&(c.success("se añadio"),t.dataProducts.push({id:t.codes[e].id,discount:0}),t.prdTemp.discount=0,t.prdTemp.preciofinal=t.prdTemp.price-t.prdTemp.discount,t.products.push(angular.copy(t.prdTemp))),t.otherCod=null,r.modalClose("codes")},t.otherProduct=function(e){t.anadir&&(t.codes=[],l.get("api/auxmovement/get/codes",{params:{id:t.tableData[e].id}}).then(function(a){t.codes=a.codes,t.prdTemp=angular.copy(t.tableData[e]),r.modal("codes")},function(e){c.error("Uyuyuy dice: "+e.data.message),t.updateList=!1}))},t.submit=function(){d(t.dataProducts,function(){m.title="¿Todo es correcto?",m.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>\n                                            <th>Cod</th>\n                                            <th>Nombre</th>\n                                            <th>P. Venta</th>\n                                            <th>Descuento</th>\n                                            <th>preciofinal</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>                                            \n                                            <td>'+function(){var e="";for(i in t.products)e+=t.products[i].cod+"<br>";return e}()+"\n                                            </td>                                            \n                                            <td>"+function(){var e="";for(i in t.products)e+="-"+t.products[i].name+"<br>";return e}()+"\n                                            </td>\n                                            <td>"+function(){var e="";for(i in t.products)e+=t.products[i].price+"<br>";return e}()+"\n                                            </td>\n                                            <td>"+function(){var e="";for(i in t.dataProducts)e+=t.dataProducts[i].discount+"<br>";return e}()+"\n                                            </td>\n                                            <td>"+function(){var e="";for(i in t.products)e+=t.products[i].preciofinal+"<br>";return e}()+"\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                </div>",swal(m,function(){l.post("api/auxmovement/out",{products:t.dataProducts}).then(function(e){c.success(e.message),p.text=b(e.products,e.movements),swal(p),t.formSubmit=!1,t.list(),r.ocultaformulario(),t.anadir=!1},function(e){c.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})})};var b=function(t,e){var a="";for(var o in e){for(var n in t)if(e[o].product_id==t[n].id){e[o].product_cod=t[n].cod,e[o].product_name=t[n].name;break}a+="<tr>                                            \n                            <td>"+e[o].created_at+"</td>\n                            <td>"+e[o].date_shipment+"</td>\n                            <td>"+e[o].product_cod+"</td>\n                            <td>"+e[o].product_name+"</td>\n                            <td>"+e[o].discount+"</td>\n                        </tr>"}return"template"};t.preciofinal=function(e){return t.products[e].discount>t.products[e].price?(t.products[e].discount=0,void(t.products[e].preciofinal=t.products[e].price)):void 0==t.products[e].discount?void(t.products[e].preciofinal=t.products[e].price):(t.products[e].preciofinal=Math.round(100*(t.products[e].price-t.products[e].discount))/100,void(t.dataProducts[e].discount=angular.copy(t.products[e].discount)))},t.removeProduct=function(e){t.dataProducts.splice(e,1),t.products.splice(e,1)},t.cancel=function(){t.anadir=!1,u(),r.ocultaformulario()},t["new"]=function(){t.anadir=!0,u(),r.muestraformulario()},angular.element(document).ready(function(){r.resetTable(t,e),u(),t.list()})}])},{}],4:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Retorno Out Fit",{url:"/Generar-retorno-y-ventas-de-out-fit",templateUrl:"app/partials/auxMovementOutFit2.html",controller:"auxMovementOutFit2Ctrl"})}]).controller("auxMovementOutFit2Ctrl",["$scope","$compile","$state","$log","util","petition","toastr",function(t,e,a,o,n,i,r){n.liPage("movimientos_outfit2");var l={1:["OutFit","bgm-teal",!1],2:["Pack","bgm-green",!1]},s={salida:["Salida","bgm-teal",!1],retornado:["Retornado","bgm-green",!1],vendido:["Vendido","bgm-green",!1]};t.tableConfig={columns:[{sTitle:"Fecha de salida",bSortable:!0,sWidth:"90px"},{sTitle:"Codigo",bSortable:!0,sWidth:"80px"},{sTitle:"Out Fit",bSortable:!0},{sTitle:"Precio S/.",bSortable:!0},{sTitle:"Tipo",bSortable:!0},{sTitle:"Estado",bSortable:!0,sWidth:"80px"},{sTitle:"Acción",bSearchable:!1,sWidth:"270px"}],buttons:[{type:"status",list:[{name:"outfit.type",column:"outfit.type",render:l},{name:"status",column:"status",render:s}]},{type:"actions",list:[{name:"actions",render:[["Detalle","detail","bgm-teal"],["Retornado","outfitReturn","btn-info"],["Vendido","outfitSale","bgm-green"]]}]}],data:["date_shipment","outfit.cod","outfit.name","outfit.price","outfit.type","status","actions"],configStatus:"status"};var c={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0,html:!0};t.movementClear={id:null,situation:null,"case":null},t.situations=[{id:1,name:"No le gusto"},{id:2,name:"La foto no es igual al producto"},{id:3,name:"Producto dañado"},{id:4,name:"No se encontro cliente"},{id:5,name:"No es la talla"},{id:6,name:"No se encontro el código"},{id:7,name:"No llegamos al cliente"},{id:8,name:"Cliente cancelo su pedido"}],t.list=function(){t.updateList=!0,i.get("api/auxmovements-outfit").then(function(a){t.tableData=a.outfits,$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.detail=function(e){t.outfitDetail={};var a=t.tableData[e].id;i.get("api/auxmovements-outfit/"+a).then(function(e){t.outfitDetail=e.movement,n.modal("Detail")},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.outfitSale=function(e){var a=t.tableData[e].id;swal(c,function(){i.put("api/auxmovements-outfit/"+a,{"case":1}).then(function(e){r.success(e.message),t.formSubmit=!1,t.list()},function(e){r.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})},t.outfitReturn=function(e){t.movement.id=t.tableData[e].id,t.movement.cod=t.tableData[e].outfit.cod,t.movement.name=t.tableData[e].outfit.name,t.movement.price=t.tableData[e].outfit.price,t.movement.situation=null,t.movement["case"]=2,n.modal()},t.submit=function(){c.title="¿Todo es correcto?",c.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>                                            \n                                            <th>Cod</th>                                            \n                                            <th>Outfit</th>\n                                            <th>Price</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>\n                                            <td>'+t.movement.cod+"</td>                                                                          \n                                            <td>"+t.movement.name+"</td>\n                                            <td>"+t.movement.price+"</td>\n                                        </tr>\n                                        </tbody>\n                                    </table>";var e=t.movement.id;swal(c,function(){i.put("api/auxmovements-outfit/"+e,t.movement).then(function(e){r.success(e.message),t.formSubmit=!1,t.list(),n.modalClose()},function(e){r.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})},t.cancel=function(){n.modalClose()},angular.element(document).ready(function(){n.resetTable(t,e),t.movement=angular.copy(t.movementClear),t.list()})}])},{}],5:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Movimientos Out Fit",{url:"/Generar-movimientos-out-fit",templateUrl:"app/partials/auxMovementOutFit.html",controller:"auxMovementOutFitCtrl"})}]).controller("auxMovementOutFitCtrl",["$scope","$compile","$state","$log","$filter","util","petition","toastr",function(t,e,a,o,n,r,l,s){function c(){t.movement=angular.copy(t.movementClear),t.productsView=[],t.products=[],t.codes=[],t.OutFitList="",t.OutFitPrice="",t.OutFitType=""}function d(e){var a=t.tableData[e].id;l.get("api/outfit/"+a).then(function(e){t.products=e.outfit.products;for(y in e.outfit.products)t.OutFitList+="/"+e.outfit.products[y].name},function(t){s.error("Huy Huy dice: "+t.data.message)})}r.liPage("movimientos_outfit");var u={1:["OutFit","bgm-teal",!1],2:["Pack","bgm-green",!1]};t.tableConfig={columns:[{sTitle:"Codigo",bSortable:!0,sWidth:"80px"},{sTitle:"Descripción",bSortable:!0},{sTitle:"Precio S/.",bSortable:!0},{sTitle:"Tipo",bSortable:!0},{sTitle:"Acción",bSearchable:!0,sWidth:"190px"}],buttons:[{type:"status",list:[{name:"type",column:"type",render:u}]},{type:"actions",list:[{name:"actions",render:[["Generar","new","bgm-green"],["Detalle","detail","btn-info"]]}]}],data:["cod","name","price","type","actions"],configStatus:"status"};var m={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0,html:!0};t.movementClear={outfit_id:null,date:null,products:[]},t.list=function(){t.updateList=!0,l.get("api/outfit/get/actives").then(function(a){t.tableData=a.outfits,$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){console.log(e),s.error("Huy Huy dice: "+e.data.message),t.updateList=!1})},t.addProduct=function(e){var a=0,o=t.codes[e].n;for(i in t.movement.products)if(o==t.productsView[i].n){a++,t.code=null;break}0==a&&(s.success("se añadio"),t.movement.products.push({id:t.codes[e].id}),t.productsView.push(t.codes[e]),t.code=null)},t.removeProduct=function(e){t.movement.products.splice(e,1),t.productsView.splice(e,1)},t.ListCodes=function(e){void 0!=e&&(t.codes=[],l.get("api/outfit/get/products/"+e).then(function(e){t.codes=e.codes},function(e){t.codes=[],console.log(e),s.error("Huy Huy dice: "+e.data.message)}))},t.detail=function(e){t.outfitDetail={};var a=t.tableData[e].id;l.get("api/outfit/"+a).then(function(e){t.outfitDetail=e.outfit,r.modal()},function(t){s.error("Huy Huy dice: "+t.data.message)})},t.submit=function(){return m.title="¿Todo es correcto?",m.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>                                            \n                                            <th>Producto</th>                                            \n                                            <th>Precio</th>\n                                            <th>Fecha</th>    \n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>\n                                            <td>'+t.OutFitList+"</td>                                                                          \n                                            <td>"+t.OutFitPrice+"</td>\n                                            <td>"+function(){var e=t.movement.date.getDate(),a=1==t.movement.date.getMonth().toString().length?"0".concat((t.movement.date.getMonth()+1).toString()):(t.movement.date.getMonth()+1).toString(),o=t.movement.date.getFullYear(),n="";return n.concat(e,"/",a,"/",o)}()+"</td>\n                                                                                    \n                                        </tr>\n                                        </tbody>\n                                    </table>",t.movement.products.length!=t.products.length?s.error("Debe seleccionar un codigo por cada producto"):(m.title="¿Todo es correcto?",void swal(m,function(){var e=t.movement.id?"PUT":"POST",a="PUT"==e?r.baseUrl("api/auxmovements-outfit/"+t.movement.id):r.baseUrl("api/auxmovements-outfit"),o={method:e,url:a,data:t.movement};t.formSubmit=!0,l.custom(o).then(function(e){s.success(e.message),t.formSubmit=!1,r.ocultaformulario()},function(e){s.error("Huy Huy dice: "+e.data.message),t.formSubmit=!1})}))},t.nameStatus=function(t){return 0==t?"Inactivo":"Activo"},t.cancel=function(){c(),r.ocultaformulario()},t["new"]=function(e){d(e),c(),t.OutFitPrice=t.tableData[e].price,1==t.tableData[e].type?t.OutFitType="OutFit":2==t.tableData[e].type&&(t.OutFitType="Pack"),t.movement.outfit_id=t.tableData[e].id,r.muestraformulario()},angular.element(document).ready(function(){r.resetTable(t,e),t.movement=angular.copy(t.movementClear),t.productsView=[],t.OutFitList="",t.list()})}])},{}],6:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Productos JVE",{url:"/Vista-general-de-productos-KARDEX",templateUrl:"app/partials/auxProductJVE.html",controller:"productsJVECtrl"})}]).controller("productsJVECtrl",["$scope","$compile","$state","$log","util","petition","toastr",function(t,e,a,o,n,i,r){n.liPage("productsJVE"),t.tableConfig={columns:[{sTitle:"Fecha",bSortable:!0,sWidth:"100px"},{sTitle:"Codigo",bSortable:!0,sWidth:"1px"},{sTitle:"Nombre",bSortable:!0,sWidth:"250px"},{sTitle:"Proveedor",bSortable:!0},{sTitle:"Talla",bSortable:!0},{sTitle:"Color",bSortable:!0,bSearchable:!0},{sTitle:"Tipos",bSortable:!0,bSearchable:!0},{sTitle:"Estado V.",bSearchable:!1},{sTitle:"P. Real",bSearchable:!1},{sTitle:"Precio",bSearchable:!1},{sTitle:"Status",bSortable:!1,bSearchable:!0},{sTitle:"Accion",bSortable:!1,bSearchable:!1}],actions:[["status",{0:{txt:"salida",cls:"btn-danger",dis:!1},1:{txt:"disponible",cls:"btn-success",dis:!1},2:{txt:"vendido",cls:"bgm-teal",dis:!1},3:{txt:"reservado",cls:"bgm-black",dis:!1}}],["actions",[["movimientos","movements","bgm-indigo"],["reservar","reserve","bgm-purple"]]]],data:["date","cod","name","provider","size","color","types","liquidation","price_real","precio","status","actions"],configStatus:"status"},t.list=function(a){t.updateList=!0;var o={params:{}};"undefined"!=typeof a&&(o.params.search=a),i.get("api/auxproduct",o).then(function(a){t.tableData=a.products,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.movements=function(e){var a=t.tableData[e].id;i.get("api/auxproduct/get/movements/"+a).then(function(e){t.productMovements=e.movements,n.modal("productMovements")},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.movementStatus=function(t){var e={Retornado:["Retornado","bgm-red"],Vendido:["Vendido","bgm-teal"],salida:["Salida","bgm-deeppurple"]};return'<a class="btn btn-xs disabled '+e[t][1]+'">'+e[t][0]+"</a>"},t.payStatus=function(t){var e={0:["Normal","bgm-green",!1],1:["Liquidacion","btn-info",!1]};return'<a class="btn btn-xs disabled '+e[t][1]+'">'+e[t][0]+"</a>"},t.reserve=function(e){var a=t.tableData[e].id;i.put("api/auxproduct/reserve/"+a).then(function(e){t.list(),r.success(e.message)},function(e){t.list(),r.error("Huy Huy dice: "+e.data.message)})},angular.element(document).ready(function(){n.resetTable(t,e),t.list()})}])},{}],7:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Stock",{url:"/Stock-general-de-productos",template:'<div class="card">\n                    <div class="card-header bgm-blue">\n                        <h2>Stock general de productos</h2>\n                        <button ng-disabled="updateList" class="btn bgm-green btn-float waves-effect btnLista" ng-click="list()"\n                                data-trigger="hover" data-toggle="popover" data-placement="top" data-content="Pulse para actualizar los registros"\n                                title="" data-original-title="Actualizar"><i class="md md-sync"></i></button>\n                    </div>\n                    <div class="card-body card-padding table-responsive">\n                        <div class="col-sm-12">\n                            <table id="table" class="table table-bordered table-striped w-100" style="text-align:center;"></table>\n                        </div><br>\n                    </div><br>\n                </div>\n                <div class="card">\n                    <div class="card-header bgm-blue">\n                        <h2>Stock general de productos</h2>\n                        <button ng-disabled="updateList" class="btn bgm-green btn-float waves-effect btnLista" ng-click="list()"\n                                data-trigger="hover" data-toggle="popover" data-placement="top" data-content="Pulse para actualizar los registros"\n                                title="" data-original-title="Actualizar"><i class="md md-sync"></i></button>\n                    </div>\n                    <div class="card-body card-padding table-responsive">\n                        <div class="col-sm-12">\n                            <table id="stockResume" class="table table-bordered table-striped w-100" style="text-align:center;"></table>\n                        </div><br>\n                    </div><br>\n                </div>\n                <!-- Modal -->\n                <div class="modal fade" id="Modal" tabindex="-1" role="dialog">\n                    <div class="modal-dialog modal-lg" role="document">\n                        <div class="modal-content">\n                            <div class="modal-header bgm-teal">\n                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n                                        aria-hidden="true">&times;</span></button>\n                                <h4 class="modal-title c-white">Caracteristicas</h4>\n                            </div>\n                            <div class="modal-body card-padding">\n                                <form class="form-horizontal" autocomplete="off" submit="return false;">\n                                     <div class="form-group">\n                                        <label class="col-sm-2 control-label">caracteristicas: </label>\n                                        <div class="col-sm-10 m-t-15 imput-pad">\n                                            <div class="fg-line">\n                                                <div class="col-sm-10" ng-bind-html="types"></div>\n                                            </div>\n                                        </div>\n                                    </div>\n                \n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>',
controller:"auxStockCtrl"})}]).controller("auxStockCtrl",["$scope","$compile","$state","$log","util","petition","toformData","toastr",function(t,e,a,o,n,i,r,l){n.liPage("stock"),t.tableConfig={columns:[{sTitle:"Nombre",bSortable:!0},{sTitle:"Color",bSortable:!0,sWidth:"150px"},{sTitle:"Talla",bSortable:!0,sWidth:"80px"},{sTitle:"Stock",bSortable:!0,sWidth:"80px"}],actions:[["actions",[["caracterisitica","view","btn-primary"]]]],data:["name","color","size","cantP"],configStatus:"status"};var s={columns:[{sTitle:"Creacion",bSortable:!0},{sTitle:"Proveedor",bSortable:!0},{sTitle:"Tipo",bSortable:!0},{sTitle:"Modelo",bSortable:!0},{sTitle:"Stock",bSortable:!0},{sTitle:"P. Proveedor",bSortable:!0},{sTitle:"Utilidad",bSortable:!0},{sTitle:"P. Final",bSortable:!0}],data:["create","provider.name","typesList","name","cantP","cost_provider","utility","price_final"]};t.view=function(e){t.types=[],i.get("api/auxproduct/get/stockProd/type/"+t.tableData[e].id).then(function(e){t.types=e.types,n.modal()},function(t){console.log(t),l.error("Ups ocurrio un problema: "+t.data.message)})},t.list=function(){t.updateList=!0,i.get("api/auxproduct/get/stockProd").then(function(a){t.tableData=a.stock,$("#table").AJQtable2("view2",t,e),$("#stockResume").AJQtable2("view2",t,e,a.resume,s),t.updateList=!1},function(e){console.log(e),l.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},angular.element(document).ready(function(){n.resetTable(t,e),t.product=angular.copy(t.productClear),t.list()})}])},{}],8:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Publicidad Ventas",{url:"/Gestion-de-publicidad-ventas",templateUrl:"app/partials/publicityJVE.html",controller:"publicityJVECtrl"})}]).controller("publicityJVECtrl",["$scope","$compile","$state","util","petition","toastr","$fb",function(t,e,a,o,n,i,r){function l(){t.album=null,t.publishName=null,t.publishButton=!1}function s(){t.newAlbum=!0,t.AlbumName=null,t.albumButton=!1}o.liPage("publicityJVE");var c={1:["Proceso","btn-danger",!1],2:["Retoque","bgm-teal",!1],3:["Enviado","bgm-indigo",!1],4:["aprobado","bgm-green",!1]},d={3:["ver","btn-info"],4:["ver - descargar","btn-info"],fail:["aprovar","bgm-green",!1]},u={1:["R. sociales","btn-info"],fail:["R. sociales","btn-info",!1]},m={1:["Publicar Facebook","btn-primary"],fail:["Publicar Facebook","btn-primary",!1]},p={0:["Espera","bgm-purple",!1],1:["Aprobado","bgm-green",!1],2:["Rechazado","bgm-red",!1]},b=function(t){if(3==t.process.type_process_id){if(1!=t.process.status)return 0;if(0==t.status)return 2;if(1==t.status)return 1}return-1},f=function(t){return 3==t.process.type_process_id&&1==t.process.status&&1==t.status&&null==t.facebookID?1:-1};t.tableConfig={columns:[{title:"Fecha",bSortable:!0,width:"110px"},{title:"Nombre",bSortable:!0},{title:"Proveedor",bSortable:!0,width:"1px"},{title:"Color",bSearchable:!0,width:"1px"},{title:"Foto",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Froceso",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Estado",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Aprobar",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Redes",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Agregar",bSearchable:!0,bSortable:!1,width:"80px"},{title:"Facebook",bSearchable:!0,bSortable:!1,width:"80px"}],buttons:[{type:"status",list:[{name:"process",column:"process.type_process_id",render:c},{name:"approve",column:"process.type_process_id",render:d},{name:"addSocials",render:u,call_me:b},{name:"publish_fb",render:m,call_me:f},{name:"status",render:p,call_me:b}]},{type:"custom",list:[{name:"photo",template:'<img width="150px" src="{0}" alt="{1}">',column:["photo","product.name"]}]}],data:["date","product.name","product.provider.name","product.color.name","photo","process","status","approve","socials_list","addSocials","publish_fb"]},t.facebook={},t.list=function(a){t.updateList=!0;var o={params:{}};"undefined"!=typeof a&&(o.params.date=a),n.get("api/sales/publicity",o).then(function(a){t.tableData=a.publicities,$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){var a=e.data.message?e.data.message:"no te puedo atender";i.error("Huy Huy dice: "+a),t.updateList=!1})},t.approve=function(e){t.publicity=angular.copy(t.tableData[e]),o.modal()},t._approve=function(e,a){n.post("api/sales/publicity",{opc:e,id:a}).then(function(e){t.list(),i.success(e.message),o.modalClose()},function(t){console.log(t),i.error("Huy Huy dice: "+t.data.message)})},t.listSocials=function(){n.get("api/socials/").then(function(e){t.socials=e.socials},function(t){console.log(t),i.error("Huy Huy dice: "+t.data.message)})},t.addSocials=function(e){t.social.publicity_id=angular.copy(t.tableData[e].id),o.modal("Socials")},t.submit=function(){n.post("api/socials",t.social).then(function(e){t.list(),i.success(e.message),o.modalClose("Socials")},function(t){console.log(t),i.error("Huy Huy dice: "+t.data.message)})},t.listAlbums_FB=function(){r.albums().then(function(e){t.albums=e.data,o.modal("FacebookModal")},function(t){i.error("Facebook dice: "+t)})},t.createAlbums_FB=function(e){t.albumButton=!0,r.createAlbum({name:e}).then(function(e){i.success("Se agrego el album a Facebook"),t.listAlbums_FB(),s(),l()},function(e){i.error("Facebook dice: "+e),t.albumButton=!1})},t.publish=function(e,a,s){t.publishButton=!0;var c={};c.name=s,c.url=t.tableData[e].photo,r.publish(a,c,!0).then(function(a){console.log(a),o.modalClose("FacebookModal"),i.success("Se publico la foto"),l(),n.put("api/socials/"+t.tableData[e].id,{fb_id:a.id}),t.list()},function(e){i.error("Facebook dice: "+e),t.publishButton=!1})},t.activeNewAlbum=function(){t.newAlbum=!t.newAlbum,t.AlbumName=null},t.publish_fb=function(e){l(),t.index=e,t.listAlbums_FB()},t.facebook.me=function(){r.me().then(function(t){console.log(t)},function(t){console.log(t)})},angular.element(document).ready(function(){o.resetTable(t,e),t.newAlbum=!0,t.social={},t.list(),t.listSocials()})}])},{}]},{},[3,2,7,5,4,8,6,1]);