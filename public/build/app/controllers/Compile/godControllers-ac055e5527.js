!function t(e,a,o){function n(r,s){if(!a[r]){if(!e[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(i)return i(r,!0);var u=new Error("Cannot find module '"+r+"'");throw u.code="MODULE_NOT_FOUND",u}var c=a[r]={exports:{}};e[r][0].call(c.exports,function(t){var a=e[r][1][t];return n(a?a:t)},c,c.exports,t,e,a,o)}return a[r].exports}for(var i="function"==typeof require&&require,r=0;r<o.length;r++)n(o[r]);return n}({1:[function(t,e,a){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};angular.module("App").config(["$stateProvider",function(t){t.state("Socios",{url:"/Reporte-de-productividad-socios",templateUrl:"app/partials/Partner.html",controller:"PartnerCtrl"})}]).controller("PartnerCtrl",["$scope","$compile","$log","util","petition","toastr","$filter","charts",function(t,e,a,n,i,r,s,l){function u(t){if(t.constructor!==Array&&0!=t.data.length){var e={labels:t.labels,datasets:[{data:t.data,backgroundColor:t.colors}]};l.make("SalesChart","pie",e)}}function c(t){if("object"!==("undefined"==typeof t?"undefined":o(t)))return[];for(var e=t.length,a=0;5-e>a;a++)t.push({name:"-",quantity:"-"});return t}var d;n.liPage("partners"),t.tableConfig={columns:[{sTitle:"Producto",bSortable:!0},{sTitle:"Cantidad",bSortable:!0,"class":"f-500 c-cyan",width:"50px"}],data:["name","quantity"],options:{bPaginate:!1,bLengthChange:!1,bFilter:!1,bSort:!1,bInfo:!1,bAutoWidth:!1}};var p={columns:[{sTitle:"Mes","class":"f-500 c-indigo"},{sTitle:"Ventas"},{sTitle:"Monto","class":"f-500 c-indigo",width:"70px"}],data:["month","data.sales.count","data.sales.cost_total"],options:{bPaginate:!1,bLengthChange:!1,bFilter:!1,bSort:!1,bInfo:!1,bAutoWidth:!1}},m={columns:[{sTitle:"Mes","class":"f-500 c-indigo"},{sTitle:"RAN","class":"f-500 c-indigo"},{sTitle:"MM","class":"f-500 c-indigo"},{sTitle:"D","class":"hidden-xs"},{sTitle:"MD","class":"f-500 c-indigo"},{sTitle:"P","class":"hidden-xs"},{sTitle:"MP","class":"f-500 c-indigo"},{sTitle:"PT","class":"f-500 c-indigo"},{sTitle:"RAC","class":"f-500 c-indigo"},{sTitle:"Detalle","class":"hidden-xs"}],buttons:[{type:"actions",list:[{name:"detail",render:[["Detalle","detail","bgm-teal"]]}]},{type:"custom",list:[{name:"residueBefore",call_me:function(t,e,a){return 0==e?t.residueBefore=0:t.residueBefore=a[e-1].residueAfter,t.residueBefore}},{name:"payTotal",call_me:function(t){return t.payMonthTotal=t.data.payments.summ.disc_total+t.data.payments.summ.pay_total,t.payMonthTotal}},{name:"residueAfter",call_me:function(t,e,a){return 0==e?t.residueAfter=t.data.sales.cost_total-t.payMonthTotal:t.residueAfter=Math.round(100*(t.data.sales.cost_total-t.payMonthTotal+t.residueBefore))/100,t.residueAfter}}]}],data:["month","residueBefore","data.sales.cost_total","data.payments.summ.disc_count","data.payments.summ.disc_total","data.payments.summ.pay_count","data.payments.summ.pay_total","payTotal","residueAfter","detail"],options:{bPaginate:!1,bLengthChange:!1,bFilter:!1,bSort:!1,bInfo:!1,bAutoWidth:!1}};t.listTopSales=function(a){i.get("api/partner/get/top/sales",{params:t.date}).then(function(a){t.tableData=c(a.TopSales),$("#table").AJQtable2("view2",t,e)},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.listLessSold=function(){i.get("api/partner/get/top/less-sold").then(function(a){t.tableData=c(a.TopLessSold),$("#table-2").AJQtable2("view2",t,e)},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.productSales=function(){i.get("api/partner/get/products/sales",{params:t.date}).then(function(a){a||(a=[]),$("#product-sales").AJQtable2("view2",t,e,a.products),u(a.chart)},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.salesAndPayments=function(){i.get("api/partner/get/payments").then(function(a){t.sAndP=a.movements,$("#sales").AJQtable2("view2",t,e,a.movements,p),$("#payments").AJQtable2("view2",t,e,a.movements,m)},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.detail=function(e){t.salesPaymentsDetail=t.sAndP[e],n.modal("salesPaymentsDetail")},t.dateChange=function(e){t.date=angular.copy(e)},t.list=function(){t.listTopSales(),t.listLessSold(),t.productSales(),t.salesAndPayments(),t.listProductMovements(),t.salesDate()};var b={0:["Regular","bgm-green",!1],1:["Promoción","bgm-red",!1]};t.months=[{id:1,name:"Enero"},{id:2,name:"Febrero"},{id:3,name:"Marzo"},{id:4,name:"Abril"},{id:5,name:"Mayo"},{id:6,name:"Junio"},{id:7,name:"Julio"},{id:8,name:"Agosto"},{id:9,name:"Setiembre"},{id:10,name:"Octubre"},{id:11,name:"Noviembre"},{id:12,name:"Diciembre"}],t.years=[2016,2017];var f={columns:[{sTitle:"Fecha",bSortable:!0,sWidth:"80px"},{sTitle:"Producto",bSortable:!0,sWidth:"1px"},{sTitle:"Código",bSortable:!0},{sTitle:"Costo Unitario S/.",bSortable:!0},{sTitle:"Venta",bSortable:!0}],buttons:[{type:"status",list:[{name:"liquidacion",column:"liquidacion",render:b}]}],data:["fecha","product","codigo","cost","liquidacion"]};t.listProductMovements=function(){t.updateList=!0,i.get("api/partner/get/products/movements",{params:t.date}).then(function(a){t.tableData=a.movements,t.monto=0;for(var o in t.tableData)void 0!=parseFloat(t.tableData[o].cost)&&(t.monto+=parseFloat(t.tableData[o].cost));$("#ProductMovements").AJQtable2("view2",t,e,a.movements,f),t.updateList=!1},function(e){console.log(e),r.error("Huy Huy dice: "+e.data.message),t.updateList=!1})},t.amount=function(){for(var e in t.tableData)t.monto+=t.tableData[e].cost;return t.monto},t.graphy=function(){"undefined"!=typeof d&&d.destroy(),chart=document.getElementById("lineChart"),d=new Chart(chart,{type:"line",data:{labels:t.daysData,datasets:[{label:"Ventas Mensuales",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:.1,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:t.dataData,maintainAspectRatio:!0,responsive:!0}]}})},t.salesDate=function(){t.updateList=!0,t.dateSave=angular.copy(t.data2),i.get("api/partner/get/products/provider/sale",{params:t.date}).then(function(e){t.daysData=e.days_lists,t.dataData=e.data_lists,t.graphy(),t.updateList=!1},function(e){console.log(e),r.error("Huy Huy dice: "+e.data.message),t.updateList=!1})},angular.element(document).ready(function(){t.list(),t.day=t.mtn=t.range={},t.searchView=0,t.dateNow=new Date})}])},{}],2:[function(t,e,a){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};angular.module("App").config(["$stateProvider",function(t){t.state("SociosPanel",{url:"/Reporte-de-productividad-socios-admin",templateUrl:"app/partials/PartnerPanel.html",controller:"PartnerPanelCtrl"})}]).controller("PartnerPanelCtrl",["$scope","$compile","$log","util","petition","toastr","$filter","charts",function(t,e,a,n,i,r,s,l){function u(t){if(t.constructor!==Array&&0!=t.data.length){var e={labels:t.labels,datasets:[{data:t.data,backgroundColor:t.colors}]};l.make("SalesChart","pie",e)}}function c(t){if("object"!==("undefined"==typeof t?"undefined":o(t)))return[];for(var e=t.length,a=0;5-e>a;a++)t.push({name:"-",quantity:"-"});return t}n.liPage("partners"),t.tableConfig={columns:[{sTitle:"Producto",bSortable:!0},{sTitle:"Cantidad",bSortable:!0,"class":"f-500 c-cyan",width:"50px"}],data:["name","quantity"],options:{bPaginate:!1,bLengthChange:!1,bFilter:!1,bSort:!1,bInfo:!1,bAutoWidth:!1}};t.listTopSales=function(a){i.get("api/partner/get/top/sales",{params:t.date}).then(function(a){t.tableData=c(a.TopSales),$("#table").AJQtable2("view2",t,e)},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.listLessSold=function(){i.get("api/partner/get/top/less-sold").then(function(a){t.tableData=c(a.TopLessSold),$("#table-2").AJQtable2("view2",t,e)},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.productSales=function(){i.get("api/partner/get/products/sales",{params:t.date}).then(function(a){a||(a=[]),$("#product-sales").AJQtable2("view2",t,e,a.products),u(a.chart)},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.dateChange=function(e){t.date=angular.copy(e),t.date.provider_id=t.p.provider_id},t.providerChange=function(){t.date.provider_id=t.p.provider_id},t.list=function(){t.listTopSales(),t.listLessSold(),t.productSales(),t.listProductMovements(),t.salesDate()};var d={0:["Regular","bgm-green",!1],1:["Promoción","bgm-red",!1]};t.months=[{id:1,name:"Enero"},{id:2,name:"Febrero"},{id:3,name:"Marzo"},{id:4,name:"Abril"},{id:5,name:"Mayo"},{id:6,name:"Junio"},{id:7,name:"Julio"},{id:8,name:"Agosto"},{id:9,name:"Setiembre"},{id:10,name:"Octubre"},{id:11,name:"Noviembre"},{id:12,name:"Diciembre"}],t.years=[2016,2017];var p={columns:[{sTitle:"Fecha",bSortable:!0,sWidth:"80px"},{sTitle:"Producto",bSortable:!0,sWidth:"1px"},{sTitle:"Código",bSortable:!0},{sTitle:"Costo Unitario S/.",bSortable:!0},{sTitle:"Tipo",bSortable:!0}],buttons:[{type:"status",list:[{name:"liquidacion",column:"liquidacion",render:d}]}],data:["fecha","product","codigo","cost","liquidacion"]};t.listProductMovements=function(){t.updateList=!0,i.get("api/partner/get/products/movements",{params:t.date}).then(function(a){t.tableData=a.movements,t.monto=0;for(var o in t.tableData)void 0!=parseFloat(t.tableData[o].cost)&&(t.monto+=parseFloat(t.tableData[o].cost));$("#ProductMovements").AJQtable2("view2",t,e,a.movements,p),t.updateList=!1},function(e){console.log(e),r.error("Huy Huy dice: "+e.data.message),t.updateList=!1})},t.amount=function(){for(var e in t.tableData)t.monto+=t.tableData[e].cost;return t.monto},t.graphy=function(){var e=document.getElementById("lineChart");new Chart(e,{type:"line",data:{labels:t.daysData,datasets:[{label:"Ventas Mensuales",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:.1,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:t.dataData,maintainAspectRatio:!0,responsive:!0}]}})},t.salesDate=function(){t.updateList=!0,t.dateSave=angular.copy(t.data2),i.get("api/partner/get/products/provider/sale",{params:t.date}).then(function(e){t.daysData=e.days_lists,t.dataData=e.data_lists,t.graphy(),t.updateList=!1},function(e){console.log(e),r.error("Huy Huy dice: "+e.data.message),t.updateList=!1})},t.listProviders=function(){i.get("api/auxproviders").then(function(e){t.providers=e.providers},function(t){console.log(t),r.error("Ups ocurrio un problema: "+t.data.message)})},angular.element(document).ready(function(){t.list(),t.listProviders(),t.day=t.mtn=t.range={}})}])},{}],3:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("pagos",{url:"/Generar-pagos-proveedores",templateUrl:"app/partials/Payment.html",controller:"paymentCtrl"})}]).controller("paymentCtrl",["$scope","$compile","$state","$log","$filter","util","petition","toformData","toastr",function(t,e,a,o,n,r,s,l,u){function c(e){return void 0==t.p.datePayment?void u.error("Uyuyuy dice: Falta ingresar fecha de Pago"):e()}function d(){t.dataProduct2=angular.copy(t.productsClear),t.dataProducts=angular.copy(t.productsClear),t.products=angular.copy(t.productsClear)}r.liPage("pagos"),t.tableConfig={columns:[{sTitle:"Codigo",bSortable:!0},{sTitle:"Nombre",bSortable:!0},{sTitle:"Color",bSortable:!0},{sTitle:"Talla",bSortable:!0},{sTitle:"Costo (S/.)",bSortable:!0},{sTitle:"Estado de Pago",bSearchable:!1,sWidth:"80px"},{sTitle:"Acción",bSearchable:!1,sWidth:"190px"}],actions:[["status",{0:{txt:"Falta Pagar",cls:"bgm-red",dis:!1},1:{txt:"Pagado",cls:"bgm-green",dis:!1}}],["actions",[["Agregar","addProduct","bgm-teal"]]]],data:["codigo","name","color","talla","cost","status","actions"],configStatus:"status"};var p={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0,html:!0};t.providerChange=function(){t.id=t.p.provider_id},t.monto=0,t.productsClear=[],t.list=function(){t.updateList=!0,s.get("api/payment?id="+t.id).then(function(a){t.tableData=a.products,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),u.error("Uyuyuy dice: "+e.data.message),t.updateList=!1})},t.submit=function(){c(function(){t.dataProduct2={},t.dataProduct2.amount=angular.copy(t.monto),t.dataProduct2.provider_id=angular.copy(t.id),t.dataProduct2.datePayment=angular.copy(t.p.datePayment),t.dataProduct2.typeP=angular.copy(t.p.typeP),t.dataProduct2.bank=angular.copy(t.p.bank),t.dataProduct2.typeD=angular.copy(t.p.typeD),t.dataProduct2.reason=angular.copy(t.p.reason),t.dataProduct2.discount=angular.copy(t.p.discount),console.log(t.dataProduct2),p.title="¿Todo es correcto?",swal(p,function(){s.post("api/payment",{products:t.dataProducts,data:t.dataProduct2}).then(function(e){u.success(e.message),t.formSubmit=!1,t.list(),r.ocultaformulario(),t.anadir=!1},function(e){u.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})})},t.addProduct=function(e){var a=0;for(i in t.products)angular.equals(t.tableData[e],t.products[i])&&a++;0==a&&t.anadir&&0==t.tableData[e].status&&(u.success("se añadio"),t.dataProducts.push({id:t.tableData[e].id}),t.monto=t.monto+t.tableData[e].cost,t.products.push(angular.copy(t.tableData[e])))},t.removeProduct=function(e){t.monto=t.monto-t.products[e].cost,t.dataProducts.splice(e,1),t.products.splice(e,1)},t.cancel=function(){t.anadir=!1,d(),r.ocultaformulario()},t["new"]=function(){t.anadir=!0,d(),r.muestraformulario()},t.listProviders=function(){s.get("api/auxproviders").then(function(e){t.providers=e.providers},function(t){console.log(t),u.error("Ups ocurrio un problema: "+t.data.message)})},t.listBanks=function(){s.get("api/payment/bank/get").then(function(e){t.banks=e.banks,console.log(t.banks)},function(t){u.error("Ups ocurrio un problema: "+t.data.message)})},t.listTypesD=function(){s.get("api/payment/typeD/get").then(function(e){t.typesD=e.typesD},function(e){console.log(t.types),u.error("Ups ocurrio un problema: "+e.data.message)})},t.listTypesP=function(){s.get("api/payment/typeP/get").then(function(e){t.typesP=e.typesP},function(t){u.error("Ups ocurrio un problema: "+t.data.message)})},angular.element(document).ready(function(){r.resetTable(t,e),d(),t.listProviders(),t.listBanks(),t.listTypesD(),t.listTypesP()})}])},{}],4:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("listapagos",{url:"/Generar-pagos-proveedores",templateUrl:"app/partials/PaymentList.html",controller:"paymentListCtrl"})}]).controller("paymentListCtrl",["$scope","$compile","$state","$log","$filter","util","petition","toformData","toastr",function(t,e,a,o,n,r,s,l,u){function c(e){return void 0==t.p.datePayment?void u.error("Uyuyuy dice: Falta ingresar fecha de Pago"):e()}function d(){t.dataProduct2=angular.copy(t.productsClear),t.dataProducts=angular.copy(t.productsClear),t.products=angular.copy(t.productsClear)}r.liPage("listapagos"),t.tableConfig={columns:[{sTitle:"Fecha",bSortable:!0},{sTitle:"Tipo de Pago",bSortable:!0},{sTitle:"Banco",bSortable:!0},{sTitle:"Monto",bSortable:!0},{sTitle:"Tipo de Descuento",bSortable:!0},{sTitle:"Descuento",bSortable:!0},{sTitle:"Acción",bSearchable:!1,sWidth:"190px"}],actions:[["status",{0:{txt:"Falta Pagar",cls:"bgm-red",dis:!1},1:{txt:"Pagado",cls:"bgm-green",dis:!1}}],["actions",[["Eliminar","removePayment","bgm-red"]]]],data:["date","typeP","bank","amount","typeD","amount_discount","actions"],configStatus:"status"};var p={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0,html:!0};t.providerChange=function(){t.id=t.p.provider_id},t.monto=0,t.productsClear=[],t.list=function(){t.updateList=!0,s.get("api/payment/get?id="+t.id).then(function(a){t.tableData=a.payments,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),u.error("Uyuyuy dice: "+e.data.message),t.updateList=!1})},t.removePayment=function(e){t.idPayment=angular.copy(t.tableData[e].id),console.log(t.idPayment),t.updateList=!0,s["delete"]("api/payment/"+t.idPayment).then(function(){t.list(),t.updateList=!1},function(e){u.error("Uyuyuy dice: "+e.data.message),t.updateList=!1})},t.submit=function(){c(function(){t.dataProduct2={},t.dataProduct2.amount=angular.copy(t.monto),t.dataProduct2.provider_id=angular.copy(t.id),t.dataProduct2.datePayment=angular.copy(t.p.datePayment),t.dataProduct2.typeP=angular.copy(t.p.typeP),t.dataProduct2.bank=angular.copy(t.p.bank),t.dataProduct2.typeD=angular.copy(t.p.typeD),t.dataProduct2.reason=angular.copy(t.p.reason),t.dataProduct2.discount=angular.copy(t.p.discount),console.log(t.dataProduct2),p.title="¿Todo es correcto?",swal(p,function(){s.post("api/payment",{products:t.dataProducts,data:t.dataProduct2}).then(function(e){u.success(e.message),t.formSubmit=!1,t.list(),r.ocultaformulario(),t.anadir=!1},function(e){u.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})})},t.addProduct=function(e){var a=0;for(i in t.products)angular.equals(t.tableData[e],t.products[i])&&a++;0==a&&t.anadir&&0==t.tableData[e].status&&(u.success("se añadio"),t.dataProducts.push({id:t.tableData[e].id}),t.monto=t.monto+t.tableData[e].cost,t.products.push(angular.copy(t.tableData[e])))},t.removeProduct=function(e){t.monto=t.monto-t.products[e].cost,t.dataProducts.splice(e,1),t.products.splice(e,1)},t.cancel=function(){t.anadir=!1,d(),r.ocultaformulario()},t["new"]=function(){t.anadir=!0,d(),r.muestraformulario()},t.listProviders=function(){s.get("api/auxproviders").then(function(e){t.providers=e.providers},function(t){console.log(t),u.error("Ups ocurrio un problema: "+t.data.message)})},t.listBanks=function(){s.get("api/payment/bank/get").then(function(e){t.banks=e.banks,console.log(t.banks)},function(t){u.error("Ups ocurrio un problema: "+t.data.message)})},t.listTypesD=function(){s.get("api/payment/typeD/get").then(function(e){t.typesD=e.typesD},function(e){console.log(t.types),u.error("Ups ocurrio un problema: "+e.data.message)})},t.listTypesP=function(){s.get("api/payment/typeP/get").then(function(e){t.typesP=e.typesP},function(t){u.error("Ups ocurrio un problema: "+t.data.message)})},angular.element(document).ready(function(){r.resetTable(t,e),d(),t.listProviders(),t.listBanks(),t.listTypesD(),t.listTypesP()})}])},{}],5:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Alarma",{url:"/Alarma-de-productos",template:'<div class="card" >    <div class="card-header bgm-blue">        <h2>Alarma de productos</h2>        <button ng-disabled="updateList" class="btn bgm-green btn-float waves-effect btnLista" ng-click="list()"                data-trigger="hover" data-toggle="popover" data-placement="top" data-content="Pulse para actualizar los registros"                title="" data-original-title="Actualizar"><i class="md md-sync"></i></button>    </div>    <div class="card-body card-padding table-responsive">        <div class="col-sm-12">            <table id="table" class="table table-bordered table-striped w-100" style="text-align:center;"></table>        </div><br>    </div><br></div>',controller:"auxAlarmCtrl"})}]).controller("auxAlarmCtrl",["$scope","$compile","$log","util","petition","toastr","chart",function(t,e,a,o,n,i,r){o.liPage("alarma"),t.tableConfig={columns:[{sTitle:"Nombre de prenda",bSortable:!0}],data:["name"]},t.list=function(){t.updateList=!0,n.get("api/auxproduct/get/alarm").then(function(a){t.tableData=a.alarms,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),i.success(e.data.message),t.updateList=!1})},angular.element(document).ready(function(){o.resetTable(t,e),t.list()})}])},{}],6:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Esquemas",{url:"/Adminitracion-de-esquemas",templateUrl:"app/partials/auxEsquema.html",controller:"auxEsquemasCtrl"})}]).controller("auxEsquemasCtrl",["$scope","$compile","$state","$log","util","petition","toastr","$filter",function(t,e,a,o,n,i,r,s){n.liPage("esquemas");var l={1:["Proceso","btn-danger",!1],2:["Retoque","bgm-teal",!1],3:["Enviado","bgm-indigo",!1]},u={0:["En Proceso","btn-danger",!1],1:["Completado","bgm-green",!1]};t.tableConfig={columns:[{sTitle:"Nombre",bSortable:!0,sWidth:"80px"},{sTitle:"Proceso",bSortable:!0,sWidth:"1px"},{sTitle:"Tipo",bSortable:!0},{sTitle:"Hora Inicio",bSortable:!0},{sTitle:"Hora Fin",bSortable:!0},{sTitle:"Estatus",bSearchable:!0},{sTitle:"Duración (min)",bSearchable:!0}],buttons:[{type:"status",list:[{name:"type",column:"type",render:l},{name:"status",column:"status",render:u}]}],data:["name","pu","type","date","date_finish","status","diff"]},t.list=function(){t.updateList=!0,i.get("api/publicity/relation/esquema/get").then(function(a){t.tableData=a.esquemas,$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.filter=function(){t.updateList=!0,t.dateSave=angular.copy(t.data),t.dateSave.date1=s("date")(t.data.date1,"yyyy-MM-dd"),i.get("api/publicity/relation/esquemadate/get",{params:t.dateSave}).then(function(a){t.tableData=a.esquemas,$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},angular.element(document).ready(function(){n.resetTable(t,e),t.list()})}])},{}],7:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Indicator1",{url:"/stock-general-de-productos",template:'<div class="card" >    <div class="card-header bgm-blue">        <h2>Stock general de productos</h2>        <button ng-disabled="updateList" class="btn bgm-green btn-float waves-effect btnLista" ng-click="list()"                data-trigger="hover" data-toggle="popover" data-placement="top" data-content="Pulse para actualizar los registros"                title="" data-original-title="Actualizar"><i class="md md-sync"></i></button>    </div>    <div class="card-body card-padding table-responsive">        <div class="col-sm-12">            <table id="table" class="table table-bordered table-striped w-100" style="text-align:center;"></table>        </div><br>    </div><br></div><div class="card">    <div class="card-header">        <h2>Vista Grafica</h2>    </div>    <div class="card-body card-padding">        <div id="pie-chart" class="flot-chart-pie"></div>        <div class="flc-pie hidden-xs"></div>    </div></div>',controller:"auxIndicator1Ctrl"})}]).controller("auxIndicator1Ctrl",["$scope","$compile","$log","util","petition","toastr","chart",function(t,e,a,o,n,i,r){o.liPage("indicator1"),t.tableConfig={columns:[{sTitle:"Nombre",bSortable:!0},{sTitle:"Color",bSortable:!0,sWidth:"150px"},{sTitle:"Talla",bSortable:!0,sWidth:"80px"},{sTitle:"Stock",bSortable:!0,sWidth:"80px"}],data:["name","color","size","cantP"],configStatus:"status"},t.list=function(){t.updateList=!0,n.get("api/auxproduct/get/stockProd").then(function(a){t.tableData=a.stock,$("#table").AJQtable("view",t,e),t.updateList=!1,r.draw(t.tableData,{data:"cantP",label:"name"})},function(e){console.log(e),i.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},angular.element(document).ready(function(){o.resetTable(t,e),t.product=angular.copy(t.productClear),t.list()})}])},{}],8:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Indicator2",{url:"/stock-general-de-productos-por-talla",template:'<div class="card" >    <div class="card-header bgm-blue">        <h2>Stock general de productos por talla</h2>        <button ng-disabled="updateList" class="btn bgm-green btn-float waves-effect btnLista" ng-click="list()"                data-trigger="hover" data-toggle="popover" data-placement="top" data-content="Pulse para actualizar los registros"                title="" data-original-title="Actualizar"><i class="md md-sync"></i></button>    </div>    <div class="card-body card-padding table-responsive">        <div class="col-sm-12">            <table id="table" class="table table-bordered table-striped w-100" style="text-align:center;"></table>        </div><br>    </div><br></div><div class="card">    <div class="card-header">        <h2>Vista Grafica</h2>    </div>    <div class="card-body card-padding">        <div id="pie-chart" class="flot-chart-pie"></div>        <div class="flc-pie hidden-xs"></div>    </div></div>',controller:"auxIndicator2Ctrl"})}]).controller("auxIndicator2Ctrl",["$scope","$compile","$log","util","petition","toastr","chart",function(t,e,a,o,n,i,r){o.liPage("indicator2"),t.tableConfig={columns:[{sTitle:"Nombre",bSortable:!0},{sTitle:"Talla",bSortable:!0,sWidth:"150px"},{sTitle:"Stock",bSortable:!0,sWidth:"80px"}],data:["name","size","cant"],configStatus:"status"},t.list=function(){t.updateList=!0,n.get("api/auxproduct/get/prodSize").then(function(a){t.tableData=a.products,$("#table").AJQtable("view",t,e),t.updateList=!1,r.draw(t.tableData,{data:"cant",label:"name"})},function(e){console.log(e),i.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},angular.element(document).ready(function(){o.resetTable(t,e),t.product=angular.copy(t.productClear),t.list()})}])},{}],9:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Indicator3",{url:"/stock-general-de-productos-por-color",template:'<div class="card" >    <div class="card-header bgm-blue">        <h2>Stock general de productos por color</h2>        <button ng-disabled="updateList" class="btn bgm-green btn-float waves-effect btnLista" ng-click="list()"                data-trigger="hover" data-toggle="popover" data-placement="top" data-content="Pulse para actualizar los registros"                title="" data-original-title="Actualizar"><i class="md md-sync"></i></button>    </div>    <div class="card-body card-padding table-responsive">        <div class="col-sm-12">            <table id="table" class="table table-bordered table-striped w-100" style="text-align:center;"></table>        </div><br>    </div><br></div><div class="card">    <div class="card-header">        <h2>Vista Grafica</h2>    </div>    <div class="card-body card-padding">        <div id="pie-chart" class="flot-chart-pie"></div>        <div class="flc-pie hidden-xs"></div>    </div></div>',controller:"auxIndicator3Ctrl"})}]).controller("auxIndicator3Ctrl",["$scope","$compile","$log","util","petition","toastr","chart",function(t,e,a,o,n,i,r){o.liPage("indicator3"),t.tableConfig={columns:[{sTitle:"Nombre",bSortable:!0},{sTitle:"Color",bSortable:!0,sWidth:"150px"},{sTitle:"Stock",bSortable:!0,sWidth:"80px"}],data:["name","color","cant"],configStatus:"status"},t.list=function(){t.updateList=!0,n.get("api/auxproduct/get/prodColor").then(function(a){t.tableData=a.products,$("#table").AJQtable("view",t,e),t.updateList=!1,r.draw(t.tableData,{data:"cant",label:"name"})},function(e){console.log(e),i.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},angular.element(document).ready(function(){o.resetTable(t,e),t.product=angular.copy(t.productClear),t.list()})}])},{}],10:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Indicator4",{url:"/stock-general-de-por-proveedor",template:'<div class="card" >    <div class="card-header bgm-blue">        <h2>Stock general de productos por proveedor</h2>        <button ng-disabled="updateList" class="btn bgm-green btn-float waves-effect btnLista" ng-click="list()"                data-trigger="hover" data-toggle="popover" data-placement="top" data-content="Pulse para actualizar los registros"                title="" data-original-title="Actualizar"><i class="md md-sync"></i></button>    </div>    <div class="card-body card-padding table-responsive">        <div class="col-sm-12">            <table id="table" class="table table-bordered table-striped w-100" style="text-align:center;"></table>        </div><br>    </div><br></div><div class="card">    <div class="card-header">        <h2>Vista Grafica</h2>    </div>    <div class="card-body card-padding">        <div id="pie-chart" class="flot-chart-pie"></div>        <div class="flc-pie hidden-xs"></div>    </div></div>',controller:"auxIndicator4Ctrl"})}]).controller("auxIndicator4Ctrl",["$scope","$compile","$log","util","petition","toastr","chart",function(t,e,a,o,n,i,r){o.liPage("indicator4"),t.tableConfig={columns:[{sTitle:"Nombre",bSortable:!0},{sTitle:"Stock",bSortable:!0,sWidth:"80px"}],data:["name","cant"]},t.list=function(){t.updateList=!0,n.get("api/auxproduct/get/cantPro").then(function(a){t.tableData=a.products,$("#table").AJQtable("view",t,e),t.updateList=!1,r.draw(t.tableData,{data:"cant",label:"name"})},function(e){console.log(e),i.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},angular.element(document).ready(function(){o.resetTable(t,e),t.product=angular.copy(t.productClear),t.list()})}])},{}],11:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Indicator5",{url:"/stock-general-de-productos-por-proveedor",template:'<div class="card" >    <div class="card-header bgm-blue">        <h2>Indicador de movimientos por producto por proveedor</h2>        <button ng-disabled="updateList" class="btn bgm-green btn-float waves-effect btnLista" ng-click="list()"                data-trigger="hover" data-toggle="popover" data-placement="top" data-content="Pulse para actualizar los registros"                title="" data-original-title="Actualizar"><i class="md md-sync"></i></button>    </div>    <div class="card-body card-padding table-responsive">        <div class="col-sm-12">            <table id="table" class="table table-bordered table-striped w-100" style="text-align:center;"></table>        </div><br>    </div><br></div>',controller:"auxIndicator5Ctrl"})}]).controller("auxIndicator5Ctrl",["$scope","$compile","$log","util","petition","toastr",function(t,e,a,o,n,i){o.liPage("indicator5"),t.tableConfig={columns:[{sTitle:"Proveedor",bSortable:!0},{sTitle:"Nombre",bSortable:!0},{sTitle:"Stock",bSortable:!0,sWidth:"80px"}],data:["provider","name","cant"]},t.list=function(){t.updateList=!0,n.get("api/auxproduct/get/prodOutProvider").then(function(a){t.tableData=a.products,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),i.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},angular.element(document).ready(function(){o.resetTable(t,e),t.product=angular.copy(t.productClear),t.list()})}])},{}],12:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Indicator6",{url:"/listado-de-proveedores",template:'<div class="card" >    <div class="card-header bgm-blue">        <h2>Stock general de productos por proveedor</h2>        <button ng-disabled="updateList" class="btn bgm-green btn-float waves-effect btnLista" ng-click="list()"                data-trigger="hover" data-toggle="popover" data-placement="top" data-content="Pulse para actualizar los registros"                title="" data-original-title="Actualizar"><i class="md md-sync"></i></button>    </div>    <div class="card-body card-padding table-responsive">        <div class="col-sm-12">            <table id="table" class="table table-bordered table-striped w-100" style="text-align:center;"></table>        </div><br>    </div><br></div>',
controller:"auxIndicator6Ctrl"})}]).controller("auxIndicator6Ctrl",["$scope","$compile","$log","util","petition","toastr",function(t,e,a,o,n,i){o.liPage("indicator6"),t.tableConfig={columns:[{sTitle:"Proveedor",bSortable:!0}],data:["name"]},t.list=function(){t.updateList=!0,n.get("api/auxproviders").then(function(a){t.tableData=a.providers,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),i.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},angular.element(document).ready(function(){o.resetTable(t,e),t.product=angular.copy(t.productClear),t.list()})}])},{}],13:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Indicator7",{url:"/Reporte-de-productos-entre-fechas",templateUrl:"app/partials/auxIndicator7.html",controller:"auxIndicator7Ctrl"})}]).controller("auxIndicator7Ctrl",["$scope","$compile","$log","util","petition","toastr","$filter","chart",function(t,e,a,o,n,i,r,s){o.liPage("indicator7");var l={0:["Normal","bgm-green",!1],1:["Liquidacion","btn-info",!1],fail:["otros","bgm-red",!1]},u={Retornado:["Retornado","bgm-red",!1],Vendido:["Vendido","bgm-teal",!1],salida:["Salida","bgm-deeppurple",!1]};t.tableConfig={columns:[{sTitle:"Creacion",bSortable:!0,sWidth:"160px"},{sTitle:"Fecha",bSortable:!0,sWidth:"80px"},{sTitle:"Codigo",bSortable:!0,sWidth:"1px"},{sTitle:"Producto",bSortable:!0},{sTitle:"Color",bSortable:!0},{sTitle:"Talla",bSortable:!0},{sTitle:"Estado",bSortable:!0},{sTitle:"Estado V.",bSortable:!0},{sTitle:"P. Real",bSortable:!0},{sTitle:"Precio",bSortable:!0},{sTitle:"Desc.",bSortable:!0},{sTitle:"P. Final",bSortable:!0}],buttons:[{type:"status",list:[{name:"status_product",column:"liquidation",render:l},{name:"status_mov",column:"status",render:u}]}],data:["created_at","fecha","codigo","product","color","talla","status_mov","status_product","price_real","price","discount","price_final"]},t.data={date1:null,date2:null,status:null},t.list=function(){t.updateList=!0,t.reportDownload=!1,n.get("api/auxmovement/get/movementDay").then(function(a){t.tableData=a.movements,$("#table").AJQtable2("view2",t,e),t.updateList=!1,t.drawShow=!1},function(e){console.log(e),i.error("Huy huy dice: "+e.data.message),t.updateList=!1})},t.listProducts=function(e){t.data.size=null,t.data.color=null,t.data.provider=null,t.updateList=!0,t.reportDownload=!1,n.get("api/auxproduct/get/report",{params:t.data}).then(function(a){"p"==e?(t.products=a.products,t.sizes=[],t.colors=[]):(t.sizes=a.sizes,t.colors=a.colors),t.updateList=!1},function(e){console.log(e),i.error("Huy huy dice: "+e.data.message),t.updateList=!1})},t.listProviders=function(){n.get("api/auxproviders").then(function(e){t.providers=e.providers},function(t){console.log(t),i.error("Huy huy dice: "+t.data.message)})},t.filter=function(){t.updateList=!0,t.dateSave=angular.copy(t.data),t.dateSave.date1=r("date")(t.data.date1,"yyyy-MM-dd"),t.dateSave.date2=r("date")(t.data.date2,"yyyy-MM-dd"),n.get("api/auxmovement/get/movementDays",{params:t.dateSave}).then(function(a){t.reportDownload=!0,t.tableData=a.movements,t.infoMonth=a.month,$("#table").AJQtable2("view2",t,e),t.updateList=!1,a.movements.length>0?(s.drawColummn(a.draw,a.days),t.drawShow=!0):t.drawShow=!1},function(e){console.log(e),i.error("Huy huy dice: "+e.data.message),t.updateList=!1})},t.download=function(){n.post("api/auxmovement/get/movementDays/download",t.dateSave,{responseType:"arraybuffer"}).then(function(e){var a=(new Date).getTime(),o=a+"-reporte-de-movimiento-"+t.dateSave.date1+"-al-"+t.dateSave.date2+".pdf",n=new Blob([e],{type:"application/pdf"});saveAs(n,o)},function(t){console.info(t)})},t.noProduct=function(){t.data.name=null,t.data.size=null,t.data.color=null,t.sizes=[],t.colors=[]},angular.element(document).ready(function(){o.resetTable(t,e),t.product=angular.copy(t.productClear),t.list(),t.listProviders(),t.listProducts("p")})}])},{}],14:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Movimientos2",{url:"/Generar-retorno-y-ventas",templateUrl:"app/partials/auxMovement2.html",controller:"auxMovement2Ctrl"})}]).controller("auxMovement2Ctrl",["$scope","$compile","$state","$log","util","petition","toastr",function(t,e,a,o,n,i,r){n.liPage("movimientos2"),t.tableConfig={columns:[{sTitle:"Fecha de creación",bSortable:!0,sWidth:"90px"},{sTitle:"Fecha de salida",bSortable:!0,sWidth:"90px"},{sTitle:"Codigo",bSortable:!0},{sTitle:"Producto",bSortable:!0},{sTitle:"Talla",bSortable:!0},{sTitle:"Color",bSortable:!0},{sTitle:"Precio  (S/)",bSortable:!0},{sTitle:"Descuento (S/)",bSortable:!0},{sTitle:"Precio Final (S/)",bSortable:!0},{sTitle:"Tipo",bSortable:!0,sWidth:"80px"},{sTitle:"Acción",bSearchable:!1,sWidth:"360px"}],actions:[["status",{0:{txt:"regular",cls:"bgm-green",dis:!1},1:{txt:"liquidacion",cls:"btn-info",dis:!1}}],["actions",[["Retornado","prdReturn","bgm-teal"],["Vendido","prdSale","bgm-blue"],["Eliminar","prdDelete","bgm-red"],["reprogramar","reprogramar","bgm-purple"]]]],data:["movement.created_at","movement.date_shipment","cod","name","size.name","color.name","price","movement.discount","pricefinal","status","actions"],configStatus:"liquidation"};var s={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0,html:!0};t.productClear={id:null,situation:null},t.situations=[{id:1,name:"No le gusto"},{id:2,name:"La foto no es igual al producto"},{id:3,name:"Producto dañado"},{id:4,name:"No se encontro al cliente"},{id:5,name:"No es la talla"},{id:6,name:"No se encontro el código"},{id:7,name:"No llegamos al cliente"},{id:8,name:"Cliente cancelo su pedido"}],t.prdDelete=function(e){s.title="¿Todo es correcto?",s.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>\n                                            <th>Cod</th>\n                                            <th>Producto</th>\n                                            <th>Talla</th>\n                                            <th>Color</th>\n                                            <th>Precio</th>\n                                            <th>Descuento</th>\n                                            <th>Final</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>\n                                            <th>'+t.tableData[e].cod+"</th>\n                                            <th>"+t.tableData[e].name+"</th>\n                                            <td>"+t.tableData[e].size.name+"</td>\n                                            <td>"+t.tableData[e].color.name+"</td>\n                                            <td>"+t.tableData[e].price+"</td>\n                                            <td>"+t.tableData[e].movement.discount+"</td>\n                                            <td>"+t.tableData[e].pricefinal+"</td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                </div>",swal(s,function(){i["delete"]("api/auxmovement/"+t.tableData[e].movement_id).then(function(e){r.success(e.message),t.formSubmit=!1,t.list()},function(e){r.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})},t.list=function(){t.updateList=!0,i.get("api/auxmovement/get/movement").then(function(a){t.tableData=a.products,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.prdSale=function(e){s.title="¿Todo es correcto?",s.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>\n                                            <th>Cod</th>\n                                            <th>Producto</th>\n                                            <th>Talla</th>\n                                            <th>Color</th>\n                                            <th>Precio</th>\n                                            <th>Desc.</th>\n                                            <th>Final</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>\n                                            <th>'+t.tableData[e].cod+"</th>\n                                            <th>"+t.tableData[e].name+"</th>\n                                            <td>"+t.tableData[e].size.name+"</td>\n                                            <td>"+t.tableData[e].color.name+"</td>\n                                            <td>"+t.tableData[e].price+"</td>\n                                            <td>"+t.tableData[e].movement.discount+"</td>\n                                            <td>"+t.tableData[e].pricefinal+"</td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                </div>",swal(s,function(){i.post("api/auxmovement/set/sale",{id:t.tableData[e].product_id}).then(function(e){r.success(e.message),t.formSubmit=!1,t.list()},function(e){r.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})},t.prdReturn=function(e){t.product.id=t.tableData[e].product_id,t.product.cod=t.tableData[e].cod,t.product.name=t.tableData[e].name,t.product.size=t.tableData[e].size.name,t.product.color=t.tableData[e].color.name,t.product.situation=null,n.modal()},t.submit=function(){s.title="¿Todo es correcto?",s.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>\n                                            <th>Cod</th>\n                                            <th>Producto</th>\n                                            <th>Talla</th>\n                                            <th>Color</th>\n                                            <th>Motivo</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>\n                                            <th>'+t.product.cod+"</th>\n                                            <th>"+t.product.name+"</th>\n                                            <td>"+t.product.size+"</td>\n                                            <td>"+t.product.color+"</td>\n                                            <td>"+function(){var e="";switch(t.product.situation){case 1:e="No le gusto";break;case 2:e="La foto no es igual al producto";break;case 3:e="Producto dañado";break;case 4:e="No se encontro cliente";break;case 5:e="No es la talla";break;case 6:e="No se encontro el código";break;case 7:e="No llegamos al cliente";break;case 8:e="Cliente cancelo su pedido"}return e}()+"\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                </div>",swal(s,function(){i.post("api/auxmovement",t.product).then(function(e){r.success(e.message),t.formSubmit=!1,t.list(),n.modalClose()},function(e){r.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})},t.cancel=function(){n.modalClose()},t.prdProgram=function(){s.title="¿Todo es correcto?",s.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>\n                                            <th>Cod</th>\n                                            <th>Producto</th>\n                                            <th>Talla</th>\n                                            <th>Color</th>\n                                            <th>Fecha salida</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                            <tr>\n                                                <th>'+t.tableData[t.index].cod+"</th>\n                                                <th>"+t.tableData[t.index].name+"</th>\n                                                <td>"+t.tableData[t.index].size.name+"</td>\n                                                <td>"+t.tableData[t.index].color.name+"</td>\n                                                <td>"+function(){var e=t.programDate.getDate(),a=1==t.programDate.getMonth().toString().length?"0".concat((t.programDate.getMonth()+1).toString()):(t.programDate.getMonth()+1).toString(),o=t.programDate.getFullYear(),n="";return n.concat(e,"-",a,"-",o)}()+"</td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>",swal(s,function(){var e=t.tableData[t.index].movement.id;i.put("api/auxmovement/"+e,{date:t.programDate}).then(function(e){r.success(e.message),t.formSubmit=!1,t.list(),n.modalClose("reProgram")},function(e){r.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})},t.reprogramar=function(e){t.index=e,t.programDate=null,n.modal("reProgram")},angular.element(document).ready(function(){n.resetTable(t,e),t.product=angular.copy(t.productClear),t.list()})}])},{}],15:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Movimientos",{url:"/Generar-movimientos",templateUrl:"app/partials/auxMovement.html",controller:"auxMovementCtrl"})}]).controller("auxMovementCtrl",["$scope","$compile","$state","$log","$filter","util","petition","toformData","toastr",function(t,e,a,o,n,r,s,l,u){function c(t,e){for(i in t)if(void 0==t[i].date)return void u.error("Uyuyuy dice: Falta ingresar fecha de salida");return e()}function d(){t.dataProducts=angular.copy(t.productsClear),t.products=angular.copy(t.productsClear)}r.liPage("movimientos"),t.tableConfig={columns:[{sTitle:"Codigo",bSortable:!0},{sTitle:"Nombre",bSortable:!0},{sTitle:"Color",bSortable:!0},{sTitle:"Talla",bSortable:!0},{sTitle:"Precio Venta (S/.)",bSortable:!0},{sTitle:"Precio",bSearchable:!1,sWidth:"80px"},{sTitle:"Acción",bSearchable:!1,sWidth:"190px"}],actions:[["status",{0:{txt:"regular",cls:"bgm-green",dis:!1},1:{txt:"liquidacion",cls:"btn-info",dis:!1}}],["actions",[["Agregar","addProduct","bgm-teal"],["x codigo","otherProduct","bgm-purple"]]]],data:["cod","name","color","size","price","status","actions"],configStatus:"status"};var p={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0,html:!0},m={title:"¿Se genero la salida de productos?",text:"",type:"success",html:!0};t.productsClear=[],t.list=function(){t.updateList=!0,s.get("api/auxmovement").then(function(a){t.tableData=a.products,$("#table").AJQtable("view",t,e),t.updateList=!1},function(a){u.error("Uyuyuy dice: "+a.data.message),r.resetTable(t,e),t.updateList=!1})},t.addProduct=function(e){var a=0;for(i in t.products)angular.equals(t.tableData[e],t.products[i])&&a++;0==a&&t.anadir&&(u.success("se añadio"),t.dataProducts.push({id:t.tableData[e].id,discount:0}),t.tableData[e].discount=0,t.tableData[e].preciofinal=t.tableData[e].price-t.tableData[e].discount,t.products.push(angular.copy(t.tableData[e])))},t.addProduct2=function(e){t.prdTemp.id=t.codes[e].id,t.prdTemp.cod=t.codes[e].cod;var a=0;for(i in t.products)angular.equals(t.prdTemp,t.products[i])&&a++;0==a&&t.anadir&&(u.success("se añadio"),t.dataProducts.push({id:t.codes[e].id,discount:0}),t.prdTemp.discount=0,t.prdTemp.preciofinal=t.prdTemp.price-t.prdTemp.discount,t.products.push(angular.copy(t.prdTemp))),t.otherCod=null,r.modalClose("codes")},t.otherProduct=function(e){t.anadir&&(t.codes=[],s.get("api/auxmovement/get/codes",{params:{id:t.tableData[e].id}}).then(function(a){t.codes=a.codes,t.prdTemp=angular.copy(t.tableData[e]),r.modal("codes")},function(e){u.error("Uyuyuy dice: "+e.data.message),t.updateList=!1}))},t.submit=function(){c(t.dataProducts,function(){p.title="¿Todo es correcto?",p.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>\n                                            <th>Cod</th>\n                                            <th>Nombre</th>\n                                            <th>P. Venta</th>\n                                            <th>Descuento</th>\n                                            <th>preciofinal</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>                                            \n                                            <td>'+function(){var e="";for(i in t.products)e+=t.products[i].cod+"<br>";return e}()+"\n                                            </td>                                            \n                                            <td>"+function(){var e="";for(i in t.products)e+="-"+t.products[i].name+"<br>";return e}()+"\n                                            </td>\n                                            <td>"+function(){var e="";for(i in t.products)e+=t.products[i].price+"<br>";return e}()+"\n                                            </td>\n                                            <td>"+function(){var e="";for(i in t.dataProducts)e+=t.dataProducts[i].discount+"<br>";return e}()+"\n                                            </td>\n                                            <td>"+function(){var e="";for(i in t.products)e+=t.products[i].preciofinal+"<br>";return e}()+"\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                </div>",swal(p,function(){s.post("api/auxmovement/out",{products:t.dataProducts}).then(function(e){u.success(e.message),m.text=b(e.products,e.movements),swal(m),t.formSubmit=!1,t.list(),r.ocultaformulario(),t.anadir=!1},function(e){u.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})})};var b=function(t,e){var a="";for(var o in e){for(var n in t)if(e[o].product_id==t[n].id){e[o].product_cod=t[n].cod,e[o].product_name=t[n].name;break}a+="<tr>                                            \n                            <td>"+e[o].created_at+"</td>\n                            <td>"+e[o].date_shipment+"</td>\n                            <td>"+e[o].product_cod+"</td>\n                            <td>"+e[o].product_name+"</td>\n                            <td>"+e[o].discount+"</td>\n                        </tr>"}return"template"};t.preciofinal=function(e){return t.products[e].discount>t.products[e].price?(t.products[e].discount=0,void(t.products[e].preciofinal=t.products[e].price)):void 0==t.products[e].discount?void(t.products[e].preciofinal=t.products[e].price):(t.products[e].preciofinal=Math.round(100*(t.products[e].price-t.products[e].discount))/100,void(t.dataProducts[e].discount=angular.copy(t.products[e].discount)))},t.removeProduct=function(e){t.dataProducts.splice(e,1),t.products.splice(e,1)},t.cancel=function(){t.anadir=!1,d(),r.ocultaformulario()},t["new"]=function(){t.anadir=!0,d(),r.muestraformulario()},angular.element(document).ready(function(){r.resetTable(t,e),d(),t.list()})}])},{}],16:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("MovementDay",{url:"/Movimientos-diarios",templateUrl:"app/partials/auxMovementDay.html",controller:"auxMovementDayCtrl"})}]).controller("auxMovementDayCtrl",["$scope","$compile","$state","$log","util","petition","toastr","$filter",function(t,e,a,o,n,i,r,s){n.liPage("movementday");var l={Retornado:["Retorno","bgm-teal",!1],Vendido:["Vendido","bgm-green",!1]};t.tableConfig={columns:[{sTitle:"Fecha",bSortable:!0,sWidth:"80px"},{sTitle:"Codigo",bSortable:!0,sWidth:"1px"},{sTitle:"Producto",bSortable:!0},{sTitle:"Color",bSortable:!0},{sTitle:"Talla",bSortable:!0},{sTitle:"Precio S/.",bSortable:!0},{sTitle:"Descuento S/.",bSortable:!0},{sTitle:"P. Final S/.",bSortable:!0},{sTitle:"Estatus",bSearchable:!0}],buttons:[{type:"status",list:[{name:"status",column:"status",render:l}]}],data:["fecha","codigo","product","color","talla","price","discount","pricefinal","status"]},t.list=function(){t.updateList=!0,i.get("api/auxmovement/get/movementDay").then(function(a){t.tableData=a.movements,$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.filter=function(){t.updateList=!0,t.dateSave=angular.copy(t.data),t.dateSave.date1=s("date")(t.data.date1,"yyyy-MM-dd"),i.get("api/auxmovement/get/movementDay/get",{params:t.dateSave}).then(function(a){t.tableData=a.movements,$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},angular.element(document).ready(function(){n.resetTable(t,e),t.list()})}])},{}],17:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Retorno Out Fit",{url:"/Generar-retorno-y-ventas-de-out-fit",templateUrl:"app/partials/auxMovementOutFit2.html",controller:"auxMovementOutFit2Ctrl"})}]).controller("auxMovementOutFit2Ctrl",["$scope","$compile","$state","$log","util","petition","toastr",function(t,e,a,o,n,i,r){n.liPage("movimientos_outfit2");var s={1:["OutFit","bgm-teal",!1],2:["Pack","bgm-green",!1]},l={salida:["Salida","bgm-teal",!1],retornado:["Retornado","bgm-green",!1],vendido:["Vendido","bgm-green",!1]};t.tableConfig={columns:[{sTitle:"Fecha de salida",bSortable:!0,sWidth:"90px"},{sTitle:"Codigo",bSortable:!0,sWidth:"80px"},{sTitle:"Out Fit",bSortable:!0},{sTitle:"Precio S/.",bSortable:!0},{sTitle:"Tipo",bSortable:!0},{sTitle:"Estado",bSortable:!0,sWidth:"80px"},{sTitle:"Acción",bSearchable:!1,sWidth:"270px"}],buttons:[{type:"status",list:[{name:"outfit.type",column:"outfit.type",render:s},{name:"status",column:"status",render:l}]},{type:"actions",list:[{name:"actions",render:[["Detalle","detail","bgm-teal"],["Retornado","outfitReturn","btn-info"],["Vendido","outfitSale","bgm-green"]]}]}],data:["date_shipment","outfit.cod","outfit.name","outfit.price","outfit.type","status","actions"],configStatus:"status"};var u={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0,html:!0};t.movementClear={id:null,situation:null,"case":null},t.situations=[{id:1,name:"No le gusto"},{id:2,name:"La foto no es igual al producto"},{id:3,name:"Producto dañado"},{id:4,name:"No se encontro cliente"},{id:5,name:"No es la talla"},{id:6,name:"No se encontro el código"},{id:7,name:"No llegamos al cliente"},{id:8,name:"Cliente cancelo su pedido"}],t.list=function(){t.updateList=!0,i.get("api/auxmovements-outfit").then(function(a){t.tableData=a.outfits,$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.detail=function(e){t.outfitDetail={};var a=t.tableData[e].id;i.get("api/auxmovements-outfit/"+a).then(function(e){t.outfitDetail=e.movement,n.modal("Detail")},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.outfitSale=function(e){var a=t.tableData[e].id;swal(u,function(){i.put("api/auxmovements-outfit/"+a,{"case":1}).then(function(e){r.success(e.message),t.formSubmit=!1,t.list()},function(e){r.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})},t.outfitReturn=function(e){t.movement.id=t.tableData[e].id,t.movement.cod=t.tableData[e].outfit.cod,t.movement.name=t.tableData[e].outfit.name,t.movement.price=t.tableData[e].outfit.price,t.movement.situation=null,t.movement["case"]=2,n.modal()},t.submit=function(){u.title="¿Todo es correcto?",u.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>                                            \n                                            <th>Cod</th>                                            \n                                            <th>Outfit</th>\n                                            <th>Price</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>\n                                            <td>'+t.movement.cod+"</td>                                                                          \n                                            <td>"+t.movement.name+"</td>\n                                            <td>"+t.movement.price+"</td>\n                                        </tr>\n                                        </tbody>\n                                    </table>";var e=t.movement.id;swal(u,function(){i.put("api/auxmovements-outfit/"+e,t.movement).then(function(e){r.success(e.message),t.formSubmit=!1,t.list(),n.modalClose()},function(e){r.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})},t.cancel=function(){n.modalClose()},angular.element(document).ready(function(){n.resetTable(t,e),t.movement=angular.copy(t.movementClear),t.list()})}])},{}],18:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Movimientos Out Fit",{url:"/Generar-movimientos-out-fit",templateUrl:"app/partials/auxMovementOutFit.html",controller:"auxMovementOutFitCtrl"})}]).controller("auxMovementOutFitCtrl",["$scope","$compile","$state","$log","$filter","util","petition","toastr",function(t,e,a,o,n,r,s,l){function u(){t.movement=angular.copy(t.movementClear),t.productsView=[],t.products=[],t.codes=[],t.OutFitList="",t.OutFitPrice="",t.OutFitType=""}function c(e){var a=t.tableData[e].id;s.get("api/outfit/"+a).then(function(e){t.products=e.outfit.products;for(y in e.outfit.products)t.OutFitList+="/"+e.outfit.products[y].name},function(t){l.error("Huy Huy dice: "+t.data.message)})}r.liPage("movimientos_outfit");var d={1:["OutFit","bgm-teal",!1],2:["Pack","bgm-green",!1]};t.tableConfig={columns:[{sTitle:"Codigo",bSortable:!0,sWidth:"80px"},{sTitle:"Descripción",bSortable:!0},{sTitle:"Precio S/.",bSortable:!0},{sTitle:"Tipo",bSortable:!0},{sTitle:"Acción",bSearchable:!0,sWidth:"190px"}],buttons:[{type:"status",list:[{name:"type",column:"type",render:d}]},{type:"actions",list:[{name:"actions",render:[["Generar","new","bgm-green"],["Detalle","detail","btn-info"]]}]}],data:["cod","name","price","type","actions"],configStatus:"status"};var p={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0,html:!0};t.movementClear={outfit_id:null,date:null,products:[]},t.list=function(){t.updateList=!0,s.get("api/outfit/get/actives").then(function(a){t.tableData=a.outfits,$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){console.log(e),l.error("Huy Huy dice: "+e.data.message),t.updateList=!1})},t.addProduct=function(e){var a=0,o=t.codes[e].n;for(i in t.movement.products)if(o==t.productsView[i].n){a++,t.code=null;break}0==a&&(l.success("se añadio"),t.movement.products.push({id:t.codes[e].id}),t.productsView.push(t.codes[e]),t.code=null)},t.removeProduct=function(e){t.movement.products.splice(e,1),t.productsView.splice(e,1)},t.ListCodes=function(e){void 0!=e&&(t.codes=[],s.get("api/outfit/get/products/"+e).then(function(e){t.codes=e.codes},function(e){t.codes=[],console.log(e),l.error("Huy Huy dice: "+e.data.message)}))},t.detail=function(e){t.outfitDetail={};var a=t.tableData[e].id;s.get("api/outfit/"+a).then(function(e){t.outfitDetail=e.outfit,r.modal()},function(t){l.error("Huy Huy dice: "+t.data.message)})},t.submit=function(){return p.title="¿Todo es correcto?",p.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>                                            \n                                            <th>Producto</th>                                            \n                                            <th>Precio</th>\n                                            <th>Fecha</th>    \n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>\n                                            <td>'+t.OutFitList+"</td>                                                                          \n                                            <td>"+t.OutFitPrice+"</td>\n                                            <td>"+function(){var e=t.movement.date.getDate(),a=1==t.movement.date.getMonth().toString().length?"0".concat((t.movement.date.getMonth()+1).toString()):(t.movement.date.getMonth()+1).toString(),o=t.movement.date.getFullYear(),n="";return n.concat(e,"/",a,"/",o)}()+"</td>\n                                                                                    \n                                        </tr>\n                                        </tbody>\n                                    </table>",t.movement.products.length!=t.products.length?l.error("Debe seleccionar un codigo por cada producto"):(p.title="¿Todo es correcto?",void swal(p,function(){var e=t.movement.id?"PUT":"POST",a="PUT"==e?r.baseUrl("api/auxmovements-outfit/"+t.movement.id):r.baseUrl("api/auxmovements-outfit"),o={method:e,url:a,data:t.movement};t.formSubmit=!0,s.custom(o).then(function(e){l.success(e.message),t.formSubmit=!1,r.ocultaformulario()},function(e){l.error("Huy Huy dice: "+e.data.message),t.formSubmit=!1})}))},t.nameStatus=function(t){return 0==t?"Inactivo":"Activo"},t.cancel=function(){u(),r.ocultaformulario()},t["new"]=function(e){c(e),u(),t.OutFitPrice=t.tableData[e].price,1==t.tableData[e].type?t.OutFitType="OutFit":2==t.tableData[e].type&&(t.OutFitType="Pack"),t.movement.outfit_id=t.tableData[e].id,r.muestraformulario()},angular.element(document).ready(function(){r.resetTable(t,e),t.movement=angular.copy(t.movementClear),t.productsView=[],t.OutFitList="",t.list()})}])},{}],19:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Productos",{url:"/Adminitracion-de-productos",templateUrl:"app/partials/auxProduct.html",controller:"productsCtrl"})}]).controller("productsCtrl",["$scope","$compile","$state","$log","util","petition","toastr",function(t,e,a,o,n,i,r){function s(e){for(var a in e.types)delete e.types[a].pivot;e.cod=parseInt(e.cod),e.provider_id=parseInt(e.provider_id),e.color_id=parseInt(e.color_id),e.size_id=parseInt(e.size_id),e.cost=parseFloat(e.cost),e.uti=parseFloat(e.uti),e.alarm.day=parseInt(e.alarm.day),e.alarm.count=parseInt(e.alarm.count),t.product=e}n.liPage("products"),t.tableConfig={columns:[{sTitle:"Fecha",bSortable:!0,sWidth:"90px"},{sTitle:"Codigo",bSortable:!0,sWidth:"1px"},{sTitle:"Nombre",bSortable:!0,sWidth:"250px"},{sTitle:"Proveedor",bSortable:!0},{sTitle:"Talla",bSortable:!0
},{sTitle:"Color",bSortable:!0,bSearchable:!0},{sTitle:"Tipos",bSortable:!0,bSearchable:!0},{sTitle:"P. Proveedor (S/.)",bSearchable:!0},{sTitle:"Utilidad (S/.)",bSearchable:!0},{sTitle:"Precio (S/.)",bSearchable:!0},{sTitle:"Status",bSortable:!1,bSearchable:!0},{sTitle:"Accion",bSortable:!1,bSearchable:!0,sWidth:"300px"}],actions:[["status",{0:{txt:"salida",cls:"btn-danger",dis:!1},1:{txt:"disponible",cls:"btn-success",dis:!1},2:{txt:"vendido",cls:"bgm-teal",dis:!1}}],["actions",[["eliminar","delete","bgm-red"],["editar","edit","btn-primary"],["movimientos","movements","bgm-teal"]]]],data:["date","cod","name","provider","size","color","types","cost_provider","utility","precio","status","actions"],configStatus:"status"};var l={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0,html:!0};t.productClear={name:null,cant:null,cod:null,provider_id:null,size_id:null,color_id:null,day:null,count:null,cost:null,uti:null,types:[]};var u={id:0,name:">>---> (Nuevo Proveedor) <---<<"},c={id:0,name:">>---> (Nuevo Color) <---<<"},d={id:0,name:">>---> (Nuevo Tipo) <---<<"};t.list=function(a){t.updateList=!0;var o={params:{}};"undefined"!=typeof a&&(o.params.search=a),i.get("api/auxproduct",o).then(function(a){t.tableData=a.products,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.edit=function(e){i.get("api/auxproduct/"+t.tableData[e].id).then(function(e){console.log(e),s(e.product),t.productState=!1,n.muestraformulario()},function(t){console.log(t),r.error("Uyuyuy dice: "+t.data.message)})},t["delete"]=function(e){l.title="¿Desea eliminar?",l.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>\n                                            <th>Codigo</th>\n                                            <th>Nombre</th>\n                                            <th>Talla</th>\n                                            <th>Color</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>\n                                            <td>'+t.tableData[e].cod+"</td>\n                                            <td>"+t.tableData[e].name+"</td>\n                                            <td>"+t.tableData[e].size+"</td>\n                                            <td>"+t.tableData[e].color+"</td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                </div>",sweetAlert(l,function(){i["delete"]("api/auxproduct/"+t.tableData[e].id).then(function(e){t.list(),r.success(e.message)},function(t){r.error("Uyuyuy dice: "+t.data.message)})})},t.listProviders=function(){t.providers=[],i.get("api/auxproviders").then(function(e){t.providers=e.providers,t.providers.push(u)},function(t){console.log(t),r.error("Ups ocurrio un problema: "+t.data.message)})},t.listSizes=function(){i.get("api/sizes").then(function(e){t.sizes=e.sizes},function(t){console.log(t),r.error("Ups ocurrio un problema: "+t.data.message)})},t.listColors=function(){i.get("api/colors").then(function(e){t.colors=e.colors,t.colors.push(c)},function(t){console.log(t),r.error("Ups ocurrio un problema: "+t.data.message)})},t.listTypes=function(){i.get("api/auxproduct/get/type").then(function(e){t.types=e.types,t.types.push(d)},function(t){console.log(t),r.error("Ups ocurrio un problema: "+t.data.message)})},t.listCodes=function(){t.btnCods=!0,t.codes=[],i.get("api/auxproduct/get/code").then(function(e){t.codes=e.codes,t.btnCods=!1},function(e){t.btnCods=!1,console.log(e),r.error("Ups ocurrio un problema: "+e.data.message)})},t.view=function(e){t.productGroupAttributes=[],t.productDetail={};var a=t.tableData[e].id;i.get("api/product/group_attributes/"+a).then(function(a){t.productGroupAttributes=a.grp_attributes,t.productDetail=angular.copy(t.tableData[e]),n.modal()},function(t){r.error("Ups ocurrio un problema: "+t.data.message)})},t.submit=function(){l.title="¿Todo es correcto?",swal(l,function(){var e=t.product.id?"PUT":"POST",a="PUT"==e?n.baseUrl("api/auxproduct/"+t.product.id):n.baseUrl("api/auxproduct"),o={method:e,url:a,data:t.product};t.formSubmit=!0,i.custom(o).then(function(e){r.success(e.message),t.formSubmit=!1,t.list(),t.listCodes(),n.ocultaformulario()},function(e){r.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})},t.cancel=function(){t.product=angular.copy(t.productClear),t.productState=!0,n.ocultaformulario()},t["new"]=function(){t.product=angular.copy(t.productClear),t.productState=!0,n.muestraformulario()},t.eventProvider=function(e){return 0!=e?!0:(t.product.provider_id=null,t.newFeature.tittle="Nuevo Proveedor",t.newFeature.label="Ingrese nombre de proveedor",t.newFeature.url="api/auxproduct/set/provider",t.newFeature.name=null,void n.modal("feature"))},t.eventColor=function(e){return 0!=e?!0:(t.product.color_id=null,t.newFeature.tittle="Nuevo Color",t.newFeature.label="Ingrese nombre de color",t.newFeature.url="api/auxproduct/set/color",t.newFeature.name=null,void n.modal("feature"))},t.addType=function(e){if(0==t.types[e].id)t.typeSelect=null,t.newFeature.tittle="Nuevo Tipo de Producto",t.newFeature.label="Ingrese el tipo",t.newFeature.url="api/auxproduct/get/type",t.newFeature.name=null,n.modal("feature");else{var a=0;for(ind in t.product.types)angular.equals(t.types[e],t.product.types[ind])&&a++;0==a&&t.product.types.push(angular.copy(t.types[e])),t.typeSelect=null}},t.removeType=function(e){t.product.types.splice(e,1)},t.addFeature=function(){i.post(t.newFeature.url,{name:t.newFeature.name}).then(function(e){r.success(e.message),n.modalClose("feature"),t.listProviders(),t.listColors(),t.listTypes()},function(t){console.log(t),r.error("Uyuyuy dice: "+t.data.message)})},t.movements=function(e){var a=t.tableData[e].id;i.get("api/auxproduct/get/movements/"+a).then(function(e){t.productMovements=e.movements,n.modal("productMovements")},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.movementStatus=function(t){var e={Retornado:["Retornado","bgm-red"],Vendido:["Vendido","bgm-teal"],salida:["Salida","bgm-deeppurple"]};return'<a class="btn btn-xs disabled '+e[t][1]+'">'+e[t][0]+"</a>"},t.payStatus=function(t){var e={0:["Normal","bgm-green",!1],1:["Liquidacion","btn-info",!1]};return'<a class="btn btn-xs disabled '+e[t][1]+'">'+e[t][0]+"</a>"},angular.element(document).ready(function(){n.resetTable(t,e),t.product=angular.copy(t.productClear),t.newFeature={},t.list(),t.listProviders(),t.listSizes(),t.listColors(),t.listTypes()})}])},{}],20:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Provider",{url:"/Adminitracion-de-proveedor",templateUrl:"app/partials/auxProviderProduct.html",controller:"auxProviderProductCtrl"})}]).controller("auxProviderProductCtrl",["$scope, $compile, $state, $log, util, petition, toastr, $filter",function(t,e,a,o,n,i,r,s){n.liPage("provider");var l={0:["Regular","bgm-green",!1],1:["Promoción","bgm-red",!1]};t.months=[{id:1,name:"Enero"},{id:2,name:"Febrero"},{id:3,name:"Marzo"},{id:4,name:"Abril"},{id:5,name:"Mayo"},{id:6,name:"Junio"},{id:7,name:"Julio"},{id:8,name:"Agosto"},{id:9,name:"Setiembre"},{id:10,name:"Octubre"},{id:11,name:"Noviembre"},{id:12,name:"Diciembre"}],t.years=[2016,2017],t.tableConfig={columns:[{sTitle:"Fecha",bSortable:!0,sWidth:"80px"},{sTitle:"Producto",bSortable:!0,sWidth:"1px"},{sTitle:"Código",bSortable:!0},{sTitle:"Costo Unitario S/.",bSortable:!0},{sTitle:"Tipo",bSortable:!0}],buttons:[{type:"status",list:[{name:"liquidacion",column:"liquidacion",render:l}]}],data:["fecha","product","codigo","cost","liquidacion"]},t.list=function(){t.updateList=!0,i.get("api/auxproduct/get/products/provider/3").then(function(a){t.tableData=a.movements,t.monto=0;for(var o in t.tableData)void 0!=parseFloat(t.tableData[o].cost)&&(t.monto+=parseFloat(t.tableData[o].cost));$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.perDay=function(){t.updateList=!0,t.dateSave=angular.copy(t.data),t.dateSave.date1=s("date")(t.data.date1,"yyyy-MM-dd"),i.get("api/auxproduct/get/products/provider/3",{params:t.dateSave}).then(function(a){t.tableData=a.movements,t.monto=0;for(var o in t.tableData)void 0!=parseFloat(t.tableData[o].cost)&&(t.monto+=parseFloat(t.tableData[o].cost));$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.perMonth=function(){t.updateList=!0,t.dateSave=angular.copy(t.data2),i.get("api/auxproduct/get/products/provider/month/3",{params:t.dateSave}).then(function(a){t.tableData=a.movements,t.monto=0;for(var o in t.tableData)void 0!=parseFloat(t.tableData[o].cost)&&(t.monto+=parseFloat(t.tableData[o].cost));$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1}),t.salesDate()},t.perDate=function(){t.updateList=!0,t.dateSave=angular.copy(t.data3),t.dateSave.dateaux1=s("date")(t.data3.dateaux1,"yyyy-MM-dd"),t.dateSave.dateaux2=s("date")(t.data3.dateaux2,"yyyy-MM-dd"),i.get("api/auxproduct/get/products/provider/date/3",{params:t.dateSave}).then(function(a){t.tableData=a.movements,t.monto=0;for(var o in t.tableData)void 0!=parseFloat(t.tableData[o].cost)&&(t.monto+=parseFloat(t.tableData[o].cost));$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.amount=function(){for(var e in t.tableData)t.monto+=t.tableData[e].cost;return t.monto},t.graphy=function(){var e=document.getElementById("lineChart");new Chart(e,{type:"line",data:{labels:t.daysData,datasets:[{label:"Ventas",fill:!1,lineTension:.1,backgroundColor:"rgba(75,192,192,0.4)",borderColor:"rgba(75,192,192,1)",borderCapStyle:"butt",borderDash:[],borderDashOffset:.1,borderJoinStyle:"miter",pointBorderColor:"rgba(75,192,192,1)",pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(220,220,220,1)",pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:t.dataData,maintainAspectRatio:!0,responsive:!0}]}})},t.salesNow=function(){t.updateList=!0,i.get("api/auxproduct/get/products/provider/sale/now/3").then(function(e){t.daysData=e.days_lists,t.dataData=e.data_lists,t.graphy(),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.salesDate=function(){t.updateList=!0,t.dateSave=angular.copy(t.data2),i.get("api/auxproduct/get/products/provider/sale/3",{params:t.dateSave}).then(function(e){t.daysData=e.days_lists,t.dataData=e.data_lists,t.graphy(),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},angular.element(document).ready(function(){n.resetTable(t,e),t.list(),t.salesNow()})}])},{}],21:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Stock",{url:"/Stock-general-de-productos",template:'<div class="card">\n                    <div class="card-header bgm-blue">\n                        <h2>Stock general de productos</h2>\n                        <button ng-disabled="updateList" class="btn bgm-green btn-float waves-effect btnLista" ng-click="list()"\n                                data-trigger="hover" data-toggle="popover" data-placement="top" data-content="Pulse para actualizar los registros"\n                                title="" data-original-title="Actualizar"><i class="md md-sync"></i></button>\n                    </div>\n                    <div class="card-body card-padding table-responsive">\n                        <div class="col-sm-12">\n                            <table id="table" class="table table-bordered table-striped w-100" style="text-align:center;"></table>\n                        </div><br>\n                    </div><br>\n                </div>\n                <div class="card">\n                    <div class="card-header bgm-blue">\n                        <h2>Stock general de productos</h2>\n                        <button ng-disabled="updateList" class="btn bgm-green btn-float waves-effect btnLista" ng-click="list()"\n                                data-trigger="hover" data-toggle="popover" data-placement="top" data-content="Pulse para actualizar los registros"\n                                title="" data-original-title="Actualizar"><i class="md md-sync"></i></button>\n                    </div>\n                    <div class="card-body card-padding table-responsive">\n                        <div class="col-sm-12">\n                            <table id="stockResume" class="table table-bordered table-striped w-100" style="text-align:center;"></table>\n                        </div><br>\n                    </div><br>\n                </div>\n                <!-- Modal -->\n                <div class="modal fade" id="Modal" tabindex="-1" role="dialog">\n                    <div class="modal-dialog modal-lg" role="document">\n                        <div class="modal-content">\n                            <div class="modal-header bgm-teal">\n                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n                                        aria-hidden="true">&times;</span></button>\n                                <h4 class="modal-title c-white">Caracteristicas</h4>\n                            </div>\n                            <div class="modal-body card-padding">\n                                <form class="form-horizontal" autocomplete="off" submit="return false;">\n                                     <div class="form-group">\n                                        <label class="col-sm-2 control-label">caracteristicas: </label>\n                                        <div class="col-sm-10 m-t-15 imput-pad">\n                                            <div class="fg-line">\n                                                <div class="col-sm-10" ng-bind-html="types"></div>\n                                            </div>\n                                        </div>\n                                    </div>\n                \n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>',controller:"auxStockCtrl"})}]).controller("auxStockCtrl",["$scope","$compile","$state","$log","util","petition","toformData","toastr",function(t,e,a,o,n,i,r,s){n.liPage("stock"),t.tableConfig={columns:[{sTitle:"Nombre",bSortable:!0},{sTitle:"Color",bSortable:!0,sWidth:"150px"},{sTitle:"Talla",bSortable:!0,sWidth:"80px"},{sTitle:"Stock",bSortable:!0,sWidth:"80px"}],actions:[["actions",[["caracterisitica","view","btn-primary"]]]],data:["name","color","size","cantP"],configStatus:"status"};var l={columns:[{sTitle:"Creacion",bSortable:!0},{sTitle:"Proveedor",bSortable:!0},{sTitle:"Tipo",bSortable:!0},{sTitle:"Modelo",bSortable:!0},{sTitle:"Stock",bSortable:!0},{sTitle:"P. Proveedor",bSortable:!0},{sTitle:"Utilidad",bSortable:!0},{sTitle:"P. Final",bSortable:!0}],data:["create","provider.name","typesList","name","cantP","cost_provider","utility","price_final"]};t.view=function(e){t.types=[],i.get("api/auxproduct/get/stockProd/type/"+t.tableData[e].id).then(function(e){t.types=e.types,n.modal()},function(t){console.log(t),s.error("Ups ocurrio un problema: "+t.data.message)})},t.list=function(){t.updateList=!0,i.get("api/auxproduct/get/stockProd").then(function(a){t.tableData=a.stock,$("#table").AJQtable2("view2",t,e),$("#stockResume").AJQtable2("view2",t,e,a.resume,l),t.updateList=!1},function(e){console.log(e),s.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},angular.element(document).ready(function(){n.resetTable(t,e),t.product=angular.copy(t.productClear),t.list()})}])},{}],22:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Comentarios",{url:"/Adminitracion-de-comentarios",templateUrl:"app/partials/comments.html",controller:"commentsCtrl"})}]).controller("commentsCtrl",["$scope","$compile","$log","util","toastr","petition",function(t,e,a,o,n,i){o.liPage("comments"),t.tableConfig={columns:[{sTitle:"Fecha",sWidth:"160px",aaSorting:"desc"},{sTitle:"Nombre",bSortable:!1},{sTitle:"Correo",bSortable:!1},{sTitle:"Estrellas",sWidth:"1px"},{sTitle:"Estado",bSearchable:!1,bSortable:!1,sWidth:"80px"},{sTitle:"Accion",bSearchable:!1,bSortable:!1,sWidth:"180px"}],actions:[["status",{0:{txt:"Inactivo",cls:"btn-danger"},1:{txt:"Activo",cls:"btn-success",dis:!1}}],["actions",[["Eliminar","remove","btn-danger"],["ver","view","btn-primary"]]]],data:["created_at","name","email","stars","status","actions"],configStatus:"status"};var r={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0},s={"api-key":"$2y$10$X1UOd6hknkG7j2RG1o8LBet17DxB5A8dPXs5clDE3KtpnQ5gtn6Oe"};t.list=function(){t.updateList=!0;var o={method:"GET",url:"http://api.nosvenden.com/api/admin/comment",params:s};i.custom(o).then(function(a){t.tableData=a.comments,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){a.log(e),n.error("Ups ocurrio un problema al cargar los registros."),t.updateList=!1})},t.status=function(e,o){r.title="¿Desea cambiar el estado de este comentario?";var u=t.tableData[e].id;swal(r,function(){var t={method:"PUT",url:"http://api.nosvenden.com/api/comment/"+u,params:s};i.custom(t).then(function(t){n.success(t.message),l(e,o.target)},function(t){a.log(t),n.error("Ups algo paso con el servidor")})})},t.remove=function(e,o){r.title="¿Desea eliminar este comentario?",swal(r,function(){var r={method:"DELETE",url:"http://api.nosvenden.com/api/comment/"+t.tableData[e].id,params:s};i.custom(r).then(function(t){$("#table").AJQtable("removeRow",o.target,function(){n.success(t.message)})},function(t){a.log(t),n.error("Ups algo paso con el servidor")})})},t.view=function(e){t.comment.name=t.tableData[e].name,t.comment.message=t.tableData[e].comment,o.modal()};var l=function(e,a){t.tableData[e].status=0==t.tableData[e].status?1:0,1==t.tableData[e].status?($(a).removeClass("btn-danger"),$(a).addClass("btn-success"),$(a).html("Activo"),$(a).attr({disabled:"disabled"})):($(a).removeClass("btn-success"),$(a).addClass("btn-danger"),$(a).html("Inactivo"))};angular.element(document).ready(function(){o.resetTable(t,e),t.comment={},t.list()})}])},{}],23:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Employees",{url:"/Adminitracion-de-empleados",templateUrl:"app/partials/employees.html",controller:"employeesCtrl"})}]).controller("employeesCtrl",["$scope","$compile","$log","util","petition","toastr",function(t,e,a,o,n,r){function s(e){var a=[];l();for(var o in e.days){var n={};n.day_id=e.days[o].pivot.day_id,n.start_time=new Date("1970-01-01 "+e.days[o].pivot.start_time),n.end_time=new Date("1970-01-01 "+e.days[o].pivot.end_time),a.push(n),t.days[t.getNameDay(n.day_id)]=!0}e.days=a,t.empleado=e,t.typeH="2"}function l(){for(i in t.days)t.days[i]=!1}function u(){t.typeH=null,t.start_time=null,t.end_time=null,t.empleado=angular.copy(t.empleadoClear),t.days=angular.copy(t.daysClear)}function c(e,a){for(var o in t.empleado.days)if(a==t.empleado.days[o].day_id)return"del"==e?t.empleado.days.splice(o,1):void 0;"add"==e&&t.empleado.days.splice(a-1,0,{day_id:a,start_time:null,end_time:null})}o.liPage("employees"),t.tableConfig={columns:[{sTitle:"Nombre de empleado",bSortable:!0},{sTitle:"Area",bSortable:!0},{sTitle:"Sexo",bSearchable:!1,bSortable:!1},{sTitle:"Accion",bSearchable:!1,bSortable:!1,sWidth:"190px"}],actions:[["actions",[["ver","view","btn-info"],["Editar","edit","btn-primary"]]]],data:["name","area.name","sex","actions"],configStatus:"status"};var d={title:"¿Todo correcto?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0};t.empleadoClear={id:null,name:null,sex:null,area_id:null,days:[],"break":null,salary:null},t.daysClear={lunes:!1,martes:!1,miercoles:!1,jueves:!1,viernes:!1,sabado:!1,domingo:!1},t.months=[{id:"01",name:"Enero"},{id:"02",name:"Febrero"},{id:"03",name:"Marzo"},{id:"04",name:"Abril"},{id:"05",name:"Mayo"},{id:"06",name:"Junio"},{id:"07",name:"Julio"},{id:"08",name:"Agosto"},{id:"09",name:"Septiembre"},{id:"10",name:"Octubre"},{id:"11",name:"Nomviembre"},{id:"12",name:"Diciembre"}],t.list=function(){n.get("api/employee").then(function(a){t.tableData=a.employees,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),r.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.listAreas=function(){t.areas=[],n.get("api/employee/get/roles").then(function(e){t.areas=e.areas},function(t){console.log(t),r.error("Uyuyuy dice: "+t.data.message)})},t.view=function(e){t.employeeDetail={};var a=t.tableData[e].id;n.get("api/employee/"+a).then(function(e){t.employeeDetail=e.employee,t.month=null,t.CostsView(),o.modal()},function(t){r.error("Ups ocurrio un problema: "+t.data.message)})},t.costFromMonth=function(e){var a=new Date,o=new Date(a.getFullYear()+"-"+e+"-15");t.CostsView(o)},t.CostsView=function(e){e||(e=new Date),t.costoxmin="",t.costoxhor="",n.get("api/employee/get/indicator",{params:{employee_id:t.employeeDetail.id,date:e}}).then(function(e){t.costoxmin=e.costoMinuto,t.costoxhor=e.costoHora},function(t){r.error("Ups ocurrio un problema: "+t.data.message)})},t.edit=function(e){var a=t.tableData[e].id;n.get("api/employee/"+a).then(function(t){s(t.employee),o.muestraformulario()},function(t){r.error("Ups ocurrio un problema: "+t.data.message)})},t.submit=function(){swal(d,function(){var e=t.empleado.id?"PUT":"POST",a="PUT"==e?o.baseUrl("api/employee/"+t.empleado.id):o.baseUrl("api/employee"),i={method:e,url:a,data:t.empleado};t.formSubmit=!0,n.custom(i).then(function(e){r.success(e.message),t.formSubmit=!1,t.list(),o.ocultaformulario()},function(e){r.error("Ups ocurrio un problema: "+e.data.message),t.formSubmit=!1})})},t.cancel=function(){u(),o.ocultaformulario()},t["new"]=function(){u(),o.muestraformulario()},t.$watch("typeH",function(e){"1"==e?(t.viewIrregular=!1,t.viewRegular=!0,t.globalDay()):"2"==e?(t.viewIrregular=!0,t.viewRegular=!1):(t.viewIrregular=!1,t.viewRegular=!1)}),t.globalDay=function(){for(var e in t.empleado.days)t.empleado.days[e].start_time=t.start_time,t.empleado.days[e].end_time=t.end_time},t.$watch("days.lunes",function(e){e?c("add",1):c("del",1),1==t.typeH&&t.globalDay()}),t.$watch("days.martes",function(e){e?c("add",2):c("del",2),1==t.typeH&&t.globalDay()}),t.$watch("days.miercoles",function(e){e?c("add",3):c("del",3),1==t.typeH&&t.globalDay()}),t.$watch("days.jueves",function(e){e?c("add",4):c("del",4),1==t.typeH&&t.globalDay()}),t.$watch("days.viernes",function(e){e?c("add",5):c("del",5),1==t.typeH&&t.globalDay()}),t.$watch("days.sabado",function(e){e?c("add",6):c("del",6),1==t.typeH&&t.globalDay()}),t.$watch("days.domingo",function(e){e?c("add",7):c("del",7),1==t.typeH&&t.globalDay()}),t.getNameDay=function(t){var e=["","lunes","martes","miercoles","jueves","viernes","sabado","domingo"];return e[t]},angular.element(document).ready(function(){o.resetTable(t,e),t.empleado=angular.copy(t.empleadoClear),t.days=angular.copy(t.daysClear),t.list(),t.listAreas()})}])},{}],24:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Facebook",{url:"/Estadistica-de-publico-de-fotos",template:'<div class="card" >    <div class="card-header bgm-blue">        <h2>Stock general de productos por proveedor</h2>        <button ng-disabled="updateList" class="btn bgm-green btn-float waves-effect btnLista" ng-click="list()"                data-trigger="hover" data-toggle="popover" data-placement="top" data-content="Pulse para actualizar los registros"                title="" data-original-title="Actualizar"><i class="md md-sync"></i></button>    </div>    <div class="card-body card-padding table-responsive">        <div class="col-sm-12">            <table id="table" class="table table-bordered table-striped w-100"></table>        </div><br>    </div><br></div>',controller:"facebookPublicityCtrl"})}]).controller("facebookPublicityCtrl",["$scope","$compile","$log","util","petition","toastr","$fb",function(t,e,a,o,n,i,r){function s(a,o){var n=[];$.each(a,function(t,e){var a=e,i=o[e.facebookID];a.likes=i.likes?i.likes.summary.total_count:0,a.comments=i.comments?i.comments.summary.total_count:0,a.link=i.link,a.picture=i.picture,n.push(a)}),t.tableData=n,$("#table").AJQtable2("view2",t,e),t.updateList=!1}o.liPage("Facebook"),t.tableConfig={columns:[{title:"Fecha",bSortable:!0,width:"110px"},{title:"Nombre",bSortable:!0},{title:"Proveedor",bSortable:!0,width:"1px"},{title:"Color",bSearchable:!0,width:"1px"},{title:"Foto",bSearchable:!0,bSortable:!1,width:"1px"},{title:"likes",bSearchable:!0,bSortable:!1,width:"1px"},{title:"comentarios",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Ventas",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Link",bSearchable:!0,bSortable:!1,width:"1px"}],buttons:[{type:"custom",list:[{name:"photo",template:'<img width="150px" src="{0}" alt="{1}">',column:["picture","product.name"]},{name:"link",template:'<a href="{0}" target="_blank" class="btn btn-xs btn-primary">ir a facebook</a>',column:["link"]}]}],data:["date","product.name","product.provider.name","product.color.name","photo","likes","comments","sales","link"]},t.list=function(){t.updateList=!0,n.get("api/publicity/get/facebook").then(function(e){""!=e.publicities?(t.publicities=e.publicities,t.listFacebook(e.ids)):(i.error("No hay productos para mostrar"),t.updateList=!1)},function(e){console.log(e),i.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.listFacebook=function(e){var a={};a.ids=e,a.fields="link,picture,source,likes.summary(true){id},comments.summary(true){id}",r.collection("/",a).then(function(e){t.facebookData=e,s(t.publicities,t.facebookData)},function(e,a){console.log(arguments),i.error("Facebook dice: "+e),t.updateList=!1})},angular.element(document).ready(function(){o.resetTable(t,e),t.product=angular.copy(t.productClear),t.list()})}])},{}],25:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("assistsByGod",{url:"/Asistencias-por-mes-por-empleado/:id/:year/:month",templateUrl:"app/partials/godEmployeeAssists.html",controller:"godEmployeeAssistsCtrl"})}]).controller("godEmployeeAssistsCtrl",["$scope","$compile","$stateParams","$log","util","petition","toastr",function(t,e,a,o,n,i,r){n.liPage("assists"),t.tableConfig={columns:[{sTitle:"Fecha",bSortable:!0},{sTitle:"ingreso",bSortable:!1,sWidth:"80px"},{sTitle:"break",bSortable:!1,sWidth:"80px"},{sTitle:"F. break",bSortable:!1,sWidth:"80px"},{sTitle:"Salida",bSortable:!1,sWidth:"80px"},{sTitle:"M. Día",bSortable:!1,sWidth:"60px"},{sTitle:"T. min",bSortable:!1,sWidth:"60px"},{sTitle:"T. monto",bSortable:!1,sWidth:"60px"},{sTitle:"B. min",bSortable:!1,sWidth:"60px"},{sTitle:"B. monto",bSortable:!1,sWidth:"60px"}],data:["date","start","break","end_break","end","amount","delay_min","delay_amount","lunch_min","lunch_amount"]},t.list=function(a){i.get("api/payroll/employee/assists/by/god",{params:a}).then(function(a){t.discounts=a.discounts,t.tableData=a.registers,$("#table").AJQtable("view",t,e)},function(t){console.log(t),r.error("Ups ocurrio un problema: "+t.data.message)})},angular.element(document).ready(function(){n.resetTable(t,e);var o={};o.id=a.id,o.year=a.year,o.month=a.month,t.list(o)})}])},{}],26:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("ReportePlanilla",{url:"/Reporte-de-planilla-entre-fechas",templateUrl:"app/partials/indicatorPayRole.html",controller:"reportPayRolCtrl"})}]).controller("reportPayRolCtrl",["$scope","$compile","$log","util","petition","toastr","$state",function(t,e,a,o,n,i,r){o.liPage("reportePlanilla"),t.tableConfig={columns:[{sTitle:"Empleado",bSortable:!0,bSearchable:!1},{sTitle:"Sueldo",bSortable:!1,bSearchable:!1},{sTitle:"Pago del mes",bSortable:!1,bSearchable:!1},{sTitle:"Minutos tarde",bSortable:!1,bSearchable:!1},{sTitle:"Descuento por tardanza",bSortable:!1,bSearchable:!1},{sTitle:"Minutos demora break",bSortable:!1,bSearchable:!1},{sTitle:"descuento por break",bSortable:!1,bSearchable:!1},{sTitle:"Accion",bSortable:!1,bSearchable:!1}],actions:[["actions",[["ver dias","view","btn-primary"]]]],data:["name","salary","pay_amount","delay_min","delay_amount","lunch_min","lunch_amount","actions"]},t.data={year:null,month:null,employee_id:null,area_id:null},t.years=[2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2027,2028,2029,2030],t.months=[{id:1,name:"Enero"},{id:2,name:"Febrero"},{id:3,name:"Marzo"},{id:4,name:"Abril"},{id:5,name:"Mayo"},{id:6,name:"Junio"},{id:7,name:"Julio"},{id:8,name:"Agosto"},{id:9,name:"Septiembre"},{id:10,name:"Octubre"},{id:11,name:"Nomviembre"},{id:12,name:"Diciembre"}],t.list=function(a){a||(a={}),t.updateList=!0,n.get("api/payroll",{params:a}).then(function(a){t.tableData=a.payroll,$("#table").AJQtable("view",t,e),t.updateList=!1},function(a){console.log(a),i.error("Uyuyuy dice: "+a.data.message),t.updateList=!1,o.resetTable(t,e)})},t.view=function(e){r.go("assistsByGod",{id:t.tableData[e].id,year:t.data.year,month:t.data.month})},t.listEmployee=function(){t.employees=[],n.get("api/employee").then(function(e){t.employees=e.employees},function(t){console.log(t),i.error("Uyuyuy dice: "+t.data.message)})},t.listAreas=function(){t.areas=[],n.get("api/employee/get/roles").then(function(e){t.areas=e.areas},function(t){console.log(t),i.error("Uyuyuy dice: "+t.data.message)})},angular.element(document).ready(function(){o.resetTable(t,e),o.resetTable(t,e),t.list(),t.listEmployee(),t.listAreas()})}])},{}],27:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Liquidacion",{url:"/Gestion-de-liquidaciones-de-productos",templateUrl:"app/partials/liquidation.html",controller:"liquidationCtrl"})}]).controller("liquidationCtrl",["$scope","$compile","$state","util","petition","toastr",function(t,e,a,o,n,r){o.liPage("liquidation"),t.tableConfig={columns:[{sTitle:"Fecha",bSortable:!0,sWidth:"90px"},{sTitle:"Codigo",bSortable:!0,sWidth:"1px"},{sTitle:"Nombre",bSortable:!0},{sTitle:"Proveedor",bSortable:!0},{sTitle:"Talla",bSortable:!0},{sTitle:"Color",bSearchable:!0},{sTitle:"Precio",bSearchable:!0},{sTitle:"Status",bSearchable:!0},{sTitle:"Acción",bSearchable:!0,sWidth:"80px"}],actions:[["status",{0:{txt:"salida",cls:"btn-danger",dis:!1},1:{txt:"disponible",cls:"btn-success",dis:!1},2:{txt:"vendido",cls:"bgm-teal",dis:!1}}],["actions",[["eliminar","delete","bgm-red"]]]],data:[["product.created_at",10],"product.cod","product.name","product.provider.name","product.size.name","product.color.name","price","status","actions"],configStatus:"product.status"};var s={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0,html:!0};t.list=function(){t.updateList=!0,n.get("api/liquidation").then(function(a){t.tableData=a.products,$("#table").AJQtable("view",t,e),
t.updateList=!1},function(e){console.log(e),r.error("Huy Huy dice: "+e.data.message),t.updateList=!1})},t.listProduct=function(){t.products=[],n.get("api/auxproduct/get/uniques").then(function(e){t.products=e.products},function(t){console.log(t),r.error("Huy Huy dice: "+t.data.message)})},t.ListCodes=function(e){void 0!=e&&(t.codes=[],n.get("api/auxproduct/get/uniques/"+e+"/codes").then(function(e){t.codes=e.codes},function(e){t.codes=[],console.log(e),r.error("Huy Huy dice: "+e.data.message)}))},t["delete"]=function(e){s.title="¿Desea retirar el producto del area de liquidacion?",swal(s,function(){var a=t.tableData[e].id;n["delete"]("api/liquidation/"+a).then(function(e){t.list(),r.success(e.message)},function(t){console.log(t),r.error("Huy Huy dice: "+t.data.message)})})},t.submit=function(){s.title="¿Todo es correcto?",s.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>\n                                            <th>Producto</th>\n                                            <th>Código</th>\n                                            <th>Precio</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>\n                                            <td>'+t.product+"</td>\n                                            <td>"+function(){var e="";for(i in t.codes)t.codes[i].id==t.liquidation.id&&(e+=t.codes[i].name+"<br>");return e}()+"\n                                            </td>                                      \n                                            <td>"+t.liquidation.price+"</td>\n                                        </tr>\n                                        </tbody>\n                                    </table>",swal(s,function(){t.formSubmit=!0,n.post("api/liquidation",t.liquidation).then(function(e){r.success(e.message),t.formSubmit=!1,t.list(),o.modalClose()},function(e){r.error("Huy Huy dice: "+e.data.message),t.formSubmit=!1})})},t["new"]=function(){t.liquidation={},o.modal()},angular.element(document).ready(function(){o.resetTable(t,e),t.list(),t.listProduct(),t.liquidation={}})}])},{}],28:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("out_fit",{url:"/Gestion-de-outfit",templateUrl:"app/partials/outFit.html",controller:"out_fitCtrl"})}]).controller("out_fitCtrl",["$scope","$compile","$state","util","petition","toastr",function(t,e,a,o,n,r){o.liPage("out_fit");var s={1:["OutFit","bgm-teal",!1],2:["Pack","bgm-green",!1]},l={0:["Inactivo","bgm-red",!1],1:["Activo","bgm-green",!1]};t.tableConfig={columns:[{sTitle:"Descripción",bSortable:!0},{sTitle:"Código",bSortable:!0},{sTitle:"Precio S/.",bSortable:!0},{sTitle:"Tipo",bSortable:!0},{sTitle:"Estado",bSortable:!1,sWidth:"80px"},{sTitle:"Acción",bSearchable:!0,sWidth:"80px"}],buttons:[{type:"status",list:[{name:"type",column:"type",render:s},{name:"status",column:"status",render:l}]},{type:"actions",list:[{name:"actions",render:[["Detalle","detail","btn-info"]]}]}],data:["name","cod","price","type","status","actions"],configStatus:"status"};var u={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0,html:!0};t.outfitClear={description:null,code:null,price:null,status:0,products:[]},t.types=[{id:1,name:"OutFit"},{id:2,name:"Pack"}],t.list=function(){t.updateList=!0,n.get("api/outfit").then(function(a){t.tableData=a.outfits,$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){console.log(e),r.error("Huy Huy dice: "+e.data.message),t.updateList=!1})},t.addProduct=function(e){var a=0,o=t.products[e].name;for(i in t.outfit.products)if(o==t.outfit.products[i].name){a++,t.product=null;break}0==a&&(r.success("se añadio"),t.outfit.products.push({name:t.products[e].name}),t.productsView.push(t.products[e]),t.product=null)},t.removeProduct=function(e){t.outfit.products.splice(e,1),t.productsView.splice(e,1)},t.listProduct=function(){t.products=[],n.get("api/auxproduct/get/uniques").then(function(e){t.products=e.products},function(t){console.log(t),r.error("Huy Huy dice: "+t.data.message)})},t.detail=function(e){var a=t.tableData[e].id;t.outfitDetail={},n.get("api/outfit/"+a).then(function(e){t.outfitDetail=e.outfit,o.modal()},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.status=function(e,a){var o=t.tableData[e].id;n["delete"]("api/outfit/"+o).then(function(t){c(e,a.target),r.success(t.message)},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.submit=function(){return console.log(t.outfit.products),t.outfit.products.length<2?r.error("El outfit debe tener al menos 2 productos"):(u.title="¿Todo es correcto?",u.text='<table class="table table-bordered w-100 table-attr text-center">\n                                        <thead>\n                                        <tr>\n                                            <th>Descripción</th>\n                                            <th>Código</th>\n                                            <th>Productos</th>\n                                            <th>Precio Venta</th>\n                                            <th>Tipo</th>\n                                        </tr>\n                                        </thead>\n                                        <tbody>\n                                        <tr>\n                                            <td>'+t.outfit.description+"</td>\n                                            <td>"+t.outfit.code+"</td>\n                                            <td>"+function(){var e="";for(i in t.outfit.products)e+=t.outfit.products[i].name+"<br>";return e}()+"\n                                            </td>\n                                            <td>"+t.outfit.price+"</td>\n                                            <td>"+function(){var e="";for(i in t.types)t.types[i].id==t.outfit.type&&(e+=t.types[i].name);return e}()+"\n                                            </td>\n                                        </tr>\n                                        </tbody>\n                                    </table>\n                                </div>",void swal(u,function(){var e=t.outfit.id?"PUT":"POST",a="PUT"==e?o.baseUrl("api/outfit/"+t.outfit.id):o.baseUrl("api/outfit"),i={method:e,url:a,data:t.outfit};t.formSubmit=!0,n.custom(i).then(function(e){r.success(e.message),t.formSubmit=!1,t.list(),o.ocultaformulario()},function(e){r.error("Huy Huy dice: "+e.data.message),t.formSubmit=!1})}))},t.nameStatus=function(t){return 0==t?"Inactivo":"Activo"},t.cancel=function(){t.outfit=angular.copy(t.outfitClear),t.productsView=[],o.ocultaformulario()},t["new"]=function(){t.outfit=angular.copy(t.outfitClear),t.productsView=[],o.muestraformulario()};var c=function(e,a){t.tableData[e].status=0==t.tableData[e].status?1:0,1==t.tableData[e].status?($(a).removeClass("btn-danger"),$(a).addClass("btn-success"),$(a).html("Activo")):($(a).removeClass("btn-success"),$(a).addClass("btn-danger"),$(a).html("Inactivo"))};angular.element(document).ready(function(){o.resetTable(t,e),t.outfit=angular.copy(t.outfitClear),t.productsView=[],t.list(),t.listProduct()})}])},{}],29:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("PayrollEntry",{url:"/Planilla-registro-de-entradas",templateUrl:"app/partials/payrollEntry.html",controller:"payrollEntryCtrl"})}]).controller("payrollEntryCtrl",["$scope","$compile","$log","util","petition","toastr",function(t,e,a,o,n,i){function r(){t.entry.id=null,t.entry.conciliate=0,t.entry.justification=0,t.entry.start_time=null,t.entry.end_time=null,t.entry.start_time_launch=null,t.entry.end_time_launch=null}o.liPage("payrollEntry"),t.tableConfig={columns:[{sTitle:"Area",bSortable:!0},{sTitle:"Nombre de empleado",bSortable:!0},{sTitle:"Ingreso",bSortable:!1},{sTitle:"Break",bSortable:!1},{sTitle:"F. Break",bSortable:!1},{sTitle:"Salida",bSearchable:!1,bSortable:!1}],data:["area","name","start","break","end_break","end"]},t.entryClear={id:null,employee_id:null,conciliate:0,justification:0,date:null,start_time:null,end_time:null,start_time_launch:null,end_time_launch:null},t.list=function(a){a||(a=new Date),n.get("api/payroll/employee/assists/day",{params:{date:a}}).then(function(a){t.tableData=a.registers,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),i.error("Uyuyuy dice: "+e.data.message),t.updateList=!1})},t.listEmployee=function(){n.get("api/employee").then(function(e){t.employees=e.employees},function(t){console.log(t),i.error("Uyuyuy dice: "+t.data.message)})},t.view=function(){t.list(t.dateView)},t.submit=function(){if(t.entry.start_time>t.entry.end_time)return i.error("Uyuyuy dice: La hora de salida debe ser mayor.");if(t.entry.start_time_launch>t.entry.end_time_launch)return i.error("Uyuyuy dice: La hora de fin de almuerzo debe ser mayor.");var e=t.entry.id?"PUT":"POST",a="PUT"==e?o.baseUrl("api/assist/"+t.entry.id):o.baseUrl("api/assist"),s={method:e,url:a,params:t.entry};t.formSubmit=!0,n.custom(s).then(function(e){i.success(e.message),t.formSubmit=!1,t.list(t.entry.date),r()},function(e){i.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})},t.cancel=function(){t.entry=angular.copy(t.entryClear),o.ocultaformulario()},t["new"]=function(){t.entry=angular.copy(t.entryClear),o.muestraformulario()},angular.element(document).ready(function(){o.resetTable(t,e),t.entry=angular.copy(t.entryClear),t.list(),t.listEmployee()})}])},{}],30:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("outs",{url:"/Productos-en-stock-salida-y-ventas-del-dia",templateUrl:"app/partials/products_out.html",controller:"outsCtrl"})}]).controller("outsCtrl",["$scope","petition","util","toastr",function(t,e,a,o){a.liPage("outs"),t.update=function(){t.total=0,t.list(),t.list3(),t.list4(),t.list5()},t.total=0,t.list=function(){t.updateList=!0,e.get("api/auxmovement/get/movement/day").then(function(e){t.infoData=e.data,t.updateList=!1},function(e){console.log(e),o.error("Uyuyuy dice: "+e.data.message),t.updateList=!1})},t.list3=function(){t.updateList=!0,e.get("api/auxmovement/get/movementDay/consolidado").then(function(e){t.infoData3=e.data,t.total=t.total+t.infoData3.uti,t.updateList=!1},function(e){console.log(e),o.error("Uyuyuy dice: "+e.data.message),t.updateList=!1})},t.list4=function(){t.updateList=!0,e.get("api/auxmovement/get/movementDay/consolidadoOut").then(function(e){t.infoData4=e.data,t.total=t.total+t.infoData4.uti,t.updateList=!1},function(e){console.log(e),o.error("Uyuyuy dice: "+e.data.message),t.updateList=!1})},t.list5=function(){t.updateList=!0,e.get("api/publicity/relation/indicator/get").then(function(e){t.infoData5=e.procesos,t.updateList=!1},function(e){console.log(e),o.error("Uyuyuy dice: "+e.data.message),t.updateList=!1})},angular.element(document).ready(function(){t.list(),t.list3(),t.list4(),t.list5()})}])},{}],31:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Publicidad",{url:"/Gestion-de-publicidad",templateUrl:"app/partials/publicity.html",controller:"publicityCtrl"})}]).controller("publicityCtrl",["$scope","$compile","$state","util","petition","toformData","toastr",function(t,e,a,o,n,i,r){o.liPage("publicity");var s={1:["Proceso","btn-danger",!1],2:["Retoque","bgm-teal",!1],3:["Enviado","bgm-indigo",!1],4:["Aprobado","bgm-green",!1]},l={2:["Ver / Subir Imagen","btn-info"],3:["Ver / Subir Imagen","btn-info"],4:["Ver","btn-info"],fail:["Ver / Subir Imagen","btn-info",!1]},u={1:["Siguiente","btn-primary"],2:["Siguiente","btn-primary"],3:["Siguiente","btn-primary",!1],fail:["Siguiente","btn-primary",!1]},c={0:["Espera","bgm-purple",!1],1:["Aprobado","bgm-green",!1],2:["Rechazado","bgm-red",!1]};t.tableConfig={columns:[{title:"Fecha",bSortable:!0,width:"110px"},{title:"Nombre",bSortable:!0},{title:"Proveedor",bSortable:!0,width:"1px"},{title:"Color",bSearchable:!0,width:"1px"},{title:"Foto",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Proceso",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Estado",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Vista",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Redes",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Detalle",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Acción",bSearchable:!0,bSortable:!1,width:"1px"}],buttons:[{type:"status",list:[{name:"process",column:"process.type_process_id",render:s},{name:"view",column:"process.type_process_id",render:l},{name:"nextProcess",column:"process.type_process_id",render:u},{name:"status",render:c,call_me:function(t){if(3==t.process.type_process_id){if(1!=t.process.status)return 0;if(0==t.status)return 2;if(1==t.status)return 1}return-1}}]},{type:"actions",list:[{name:"detail",render:[["Detalle","detail","btn-info"]]}]},{type:"custom",list:[{name:"photo",template:'<img width="150px" src="{0}" alt="{1}">',column:["photo","product.name"]}]}],data:["date","product.name","product.provider.name","product.color.name","photo","process","status","view","socials_list","detail","nextProcess"]};var d={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0};t.list=function(a){t.updateList=!0;var o={params:{}};"undefined"!=typeof a&&(o.params.date=a),n.get("api/publicity",o).then(function(a){t.tableData=a.publicities,$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){var a=e.data.message?e.data.message:"no te puedo atender";r.error("Huy Huy dice: "+a),t.updateList=!1})},t.view=function(e){t.index=e,n.get("api/publicity/"+t.tableData[e].id).then(function(e){t.publicity=e.publicity,o.modal("Photo")},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.detail=function(e){n.get("api/publicity/relation/"+t.tableData[e].product_id).then(function(e){t.detailProduct.outfits=e.outfits,t.detailProduct.liquidation=e.liquidation,o.modal("product")},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.upload=function(e){if(null==t.image)return r.error("Ninguna imagen seleccionada");var a={method:"POST",url:"api/publicity/"+e+"/upload",data:i.dataFile({img:t.image}),headers:{"Content-Type":void 0}};t.uploading=!0,n.custom(a).then(function(e){t.image=null,$("#formImage").trigger("reset"),r.success(e.message),t.uploading=!1,t.list(),t.view(t.index)},function(e){r.error("Huy Huy dice: "+e.data.message),t.uploading=!1})},t.listProduct=function(){n.get("api/auxproduct/get/uniques").then(function(e){t.products=e.products},function(t){console.log(t),r.error("Huy Huy dice: "+t.data.message)})},t.ListCodes=function(e){void 0!=e&&n.get("api/auxproduct/get/uniques/"+e+"/codes").then(function(e){t.codes=e.codes},function(e){t.codes=[],console.log(e),r.error("Huy Huy dice: "+e.data.message)})},t.nextProcess=function(e){d.title="¿Desea seguir al siguiente proceso?",swal(d,function(){var a=t.tableData[e].id;n.put("api/publicity/"+a).then(function(e){t.list(),r.success(e.message)},function(t){console.log(t),r.error("Huy Huy dice: "+t.data.message)})})},t.submit=function(){d.title="¿Todo es correcto?",swal(d,function(){t.formSubmit=!0,n.post("api/publicity",{product_id:t.product_id}).then(function(e){r.success(e.message),t.formSubmit=!1,t.list(),o.modalClose()},function(e){r.error("Huy Huy dice: "+e.data.message),t.formSubmit=!1})})},t["new"]=function(){o.modal()},angular.element(document).ready(function(){o.resetTable(t,e),t.detailProduct={},t.list(),t.listProduct()})}])},{}],32:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Publicidad Ventas",{url:"/Gestion-de-publicidad-ventas",templateUrl:"app/partials/publicityJVE.html",controller:"publicityJVECtrl"})}]).controller("publicityJVECtrl",["$scope","$compile","$state","util","petition","toastr","$fb",function(t,e,a,o,n,i,r){function s(){t.album=null,t.publishName=null,t.publishButton=!1}function l(){t.newAlbum=!0,t.AlbumName=null,t.albumButton=!1}o.liPage("publicityJVE");var u={1:["Proceso","btn-danger",!1],2:["Retoque","bgm-teal",!1],3:["Enviado","bgm-indigo",!1],4:["aprobado","bgm-green",!1]},c={3:["ver","btn-info"],4:["ver - descargar","btn-info"],fail:["aprovar","bgm-green",!1]},d={1:["R. sociales","btn-info"],fail:["R. sociales","btn-info",!1]},p={1:["Publicar Facebook","btn-primary"],fail:["Publicar Facebook","btn-primary",!1]},m={0:["Espera","bgm-purple",!1],1:["Aprobado","bgm-green",!1],2:["Rechazado","bgm-red",!1]},b=function(t){if(3==t.process.type_process_id){if(1!=t.process.status)return 0;if(0==t.status)return 2;if(1==t.status)return 1}return-1},f=function(t){return 3==t.process.type_process_id&&1==t.process.status&&1==t.status&&null==t.facebookID?1:-1};t.tableConfig={columns:[{title:"Fecha",bSortable:!0,width:"110px"},{title:"Nombre",bSortable:!0},{title:"Proveedor",bSortable:!0,width:"1px"},{title:"Color",bSearchable:!0,width:"1px"},{title:"Foto",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Froceso",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Estado",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Aprobar",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Redes",bSearchable:!0,bSortable:!1,width:"1px"},{title:"Agregar",bSearchable:!0,bSortable:!1,width:"80px"},{title:"Facebook",bSearchable:!0,bSortable:!1,width:"80px"}],buttons:[{type:"status",list:[{name:"process",column:"process.type_process_id",render:u},{name:"approve",column:"process.type_process_id",render:c},{name:"addSocials",render:d,call_me:b},{name:"publish_fb",render:p,call_me:f},{name:"status",render:m,call_me:b}]},{type:"custom",list:[{name:"photo",template:'<img width="150px" src="{0}" alt="{1}">',column:["photo","product.name"]}]}],data:["date","product.name","product.provider.name","product.color.name","photo","process","status","approve","socials_list","addSocials","publish_fb"]},t.facebook={},t.list=function(a){t.updateList=!0;var o={params:{}};"undefined"!=typeof a&&(o.params.date=a),n.get("api/sales/publicity",o).then(function(a){t.tableData=a.publicities,$("#table").AJQtable2("view2",t,e),t.updateList=!1},function(e){var a=e.data.message?e.data.message:"no te puedo atender";i.error("Huy Huy dice: "+a),t.updateList=!1})},t.approve=function(e){t.publicity=angular.copy(t.tableData[e]),o.modal()},t._approve=function(e,a){n.post("api/sales/publicity",{opc:e,id:a}).then(function(e){t.list(),i.success(e.message),o.modalClose()},function(t){console.log(t),i.error("Huy Huy dice: "+t.data.message)})},t.listSocials=function(){n.get("api/socials/").then(function(e){t.socials=e.socials},function(t){console.log(t),i.error("Huy Huy dice: "+t.data.message)})},t.addSocials=function(e){t.social.publicity_id=angular.copy(t.tableData[e].id),o.modal("Socials")},t.submit=function(){n.post("api/socials",t.social).then(function(e){t.list(),i.success(e.message),o.modalClose("Socials")},function(t){console.log(t),i.error("Huy Huy dice: "+t.data.message)})},t.listAlbums_FB=function(){r.albums().then(function(e){t.albums=e.data,o.modal("FacebookModal")},function(t){i.error("Facebook dice: "+t)})},t.createAlbums_FB=function(e){t.albumButton=!0,r.createAlbum({name:e}).then(function(e){i.success("Se agrego el album a Facebook"),t.listAlbums_FB(),l(),s()},function(e){i.error("Facebook dice: "+e),t.albumButton=!1})},t.publish=function(e,a,l){t.publishButton=!0;var u={};u.name=l,u.url=t.tableData[e].photo,r.publish(a,u,!0).then(function(a){console.log(a),o.modalClose("FacebookModal"),i.success("Se publico la foto"),s(),n.put("api/socials/"+t.tableData[e].id,{fb_id:a.id}),t.list()},function(e){i.error("Facebook dice: "+e),t.publishButton=!1})},t.activeNewAlbum=function(){t.newAlbum=!t.newAlbum,t.AlbumName=null},t.publish_fb=function(e){s(),t.index=e,t.listAlbums_FB()},t.facebook.me=function(){r.me().then(function(t){console.log(t)},function(t){console.log(t)})},angular.element(document).ready(function(){o.resetTable(t,e),t.newAlbum=!0,t.social={},t.list(),t.listSocials()})}])},{}],33:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("q_AnswerIndicator",{url:"/Indicador-de-coincidencias-cuestionarios",templateUrl:"app/partials/q_AnswerIndicator.html",controller:"q_AnswerIndicatorCtrl"})}]).controller("q_AnswerIndicatorCtrl",["$scope","$compile","$state","$log","util","petition","chart","toastr",function(t,e,a,o,n,i,r,s){n.liPage("q_AnswerIndicator"),t.tableConfig={columns:[{sTitle:"0%",bSortable:!0,sWidth:"80px"},{sTitle:"0% - 20%]",bSortable:!0},{sTitle:"20% - 40%]",bSortable:!0},{sTitle:"40% - 60%]",bSortable:!0},{sTitle:"60% - 80%]",bSortable:!0},{sTitle:"80% - 100%",bSearchable:!0},{sTitle:"100%",bSearchable:!0}],data:["col_1","col_2","col_3","col_4","col_5","col_6","col_7"],configStatus:"status"},t.listProducts=function(){i.get("api/auxqproduct").then(function(e){t.products=e.productos},function(t){console.log(t),s.error("Huy Huy dice: "+t.data.message)})},t.listCustomer=function(){i.get("api/auxqcustomer").then(function(e){t.customers=e.customers},function(t){console.log(t),s.error("Huy Huy dice: "+t.data.message)})},t.list=function(a){t.codeDetail=null;var o,l="p"==a?"auxqproduct":"auxqcustomer";"p"==a?(o=t.searchP,t.searchC=null):(o=t.searchC,t.searchP=null),i.get("api/"+l+"/"+o).then(function(a){t.cantidades=a.cantidades,t.codigos=a.codigos,t.tableData=a.row,$("#table").AJQtable("view",t,e),r.draw(a.cantidades,{data:"count",label:"label"}),Object.keys(t.codigos).length>0?t.showDetail=!0:t.showDetail=!1},function(a){t.cantidades=[],t.codigos=[],n.resetTable(t,e),r.draw([],{}),console.log(a),s.error("Huy Huy dice: "+a.data.message)})},t.submit=function(){t.list()},t.detail=function(e){console.log("=)"),null!=t.searchP?t.detailForProducts(e):null!=t.searchC&&t.detailForCustomers(e)},t.detailForCustomers=function(e){t.codeDetail=null,i.post("api/indicator/questionnaire/for/products",{codes:t.codigos[e].codes}).then(function(e){t.records=e.records,n.modal("forProducts")},function(t){console.log(t),s.error("Huy Huy dice: "+t.data.message)})},t.detailForProducts=function(e){t.codeDetail=null,i.post("api/indicator/questionnaire/for/customers",{codes:t.codigos[e].codes}).then(function(e){t.records=e.records,n.modal("forCustomers")},function(t){console.log(t),s.error("Huy Huy dice: "+t.data.message)})},t.cancel=function(){t.product=angular.copy(t.productClear),t.productState=!0,n.ocultaformulario()},t["new"]=function(){t.product=angular.copy(t.productClear),t.productState=!0,n.muestraformulario()},angular.element(document).ready(function(){n.resetTable(t,e),t.codigos=[],t.showDetail=!1,t.listProducts(),t.listCustomer()})}])},{}],34:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("categories",{url:"/Gestion-de-categorias",templateUrl:"app/partials/q_categories.html",controller:"categoriesCtrl"})}]).controller("categoriesCtrl",["$scope","$compile","$state","util","petition","toastr",function(t,e,a,o,n,i){o.liPage("categories"),t.tableConfig={columns:[{sTitle:"Categoría",bSortable:!0},{sTitle:"Acción",bSearchable:!0,sWidth:"80px"}],actions:[["actions",[["editar","edit","btn-primary"]]]],data:["name","actions"],configStatus:"status"};var r={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0};t.categoryClear={name:null},t.list=function(){t.updateList=!0,n.get("api/q_category").then(function(a){t.tableData=a.categories,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),i.error("Huy Huy dice: "+e.data.message),t.updateList=!1})},t.edit=function(e){var a=t.tableData[e].id;n.get("api/q_category/"+a).then(function(e){t.category=e.category,o.muestraformulario()},function(t){i.error("Huy Huy dice: "+t.data.message)})},t.submit=function(){r.title="¿Todo es correcto?",swal(r,function(){var e=t.category.id?"PUT":"POST",a="PUT"==e?o.baseUrl("api/q_category/"+t.category.id):o.baseUrl("api/q_category"),r={method:e,url:a,data:t.category};t.formSubmit=!0,n.custom(r).then(function(e){i.success(e.message),t.formSubmit=!1,t.list(),o.ocultaformulario()},function(e){i.error("Huy Huy dice: "+e.data.message),t.formSubmit=!1})})},t.cancel=function(){t.category=angular.copy(t.categoryClear),o.ocultaformulario()},t["new"]=function(){t.category=angular.copy(t.categoryClear),o.muestraformulario()},angular.element(document).ready(function(){o.resetTable(t,e),t.category=angular.copy(t.categoryClear),t.list()})}])},{}],35:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("q_customers",{url:"/Gestion-de-clientes-de-cuestionarios",templateUrl:"app/partials/q_customers.html",controller:"q_customersCtrl"})}]).controller("q_customersCtrl",["$scope","$compile","$state","util","petition","toastr",function(t,e,a,o,n,i){function r(){return!(t.questions.length>t.response.responses.length)}function s(){t.response.user_id=null,t.response.user=null,t.response.name=null,t.response.sex=null,t.response.age=null}o.liPage("q_customers"),t.tableConfig={columns:[{sTitle:"Cuestionario",bSortable:!0},{sTitle:"Cliente",bSortable:!0},{sTitle:"Telefono",bSortable:!0,sWidth:"1px"},{sTitle:"Accion",bSearchable:!0,sWidth:"80px"}],actions:[["actions",[["detalle","detail","btn-info"]]]],data:["questionnaire.description","customer.name","customer.phone","actions"]};var l={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0};t.responseClear={customer_id:null,url:null,name:null,phone:null,category_id:null,questionnaire_id:null,responses:[]},t.list=function(){t.updateList=!0,n.get("api/answer/customer").then(function(a){t.tableData=a.responses,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),i.error("Huy Huy: "+e.data.message),t.updateList=!1})},t.AddOption=function(e){var a=0;for(e in t.response.responses)if(t.questions[t.question_i].id==t.responsesView[e].question_id){a++;break}0==a&&(i.success("se añadio"),t.response.responses.push({id:t.options[e].id}),t.responsesView.push({question:t.questions[t.question_i].question,question_id:t.questions[t.question_i].id,option:t.options[e].option}),t.question_i=null,t.option_i=null,t.options=[])},t.removeQuestion=function(e){t.response.responses.splice(e,1),t.responsesView.splice(e,1)},t.listOptions=function(e){n.get("api/question/"+t.questions[e].id+"/options").then(function(e){t.options=e.options},function(t){console.log(t),i.error("Huy Huy dice: "+t.data.message)})},t.listQuestions=function(e){t.response.responses=[],t.responsesView=[],n.get("api/questionnaire/category/"+e).then(function(e){t.response.questionnaire_id=e.questionnaire.id,t.questions=e.questionnaire.questions,t.options=[]},function(e){t.questions=[],t.options=[],console.log(e),i.error("Huy Huy dice: "+e.data.message)})},t.listCategories=function(){n.get("api/q_category").then(function(e){t.categories=e.categories},function(t){console.log(t),i.error("Huy Huy dice: "+t.data.message)})},t.detail=function(e){var a=t.tableData[e].customer.id,r=t.tableData[e].questionnaire.id;n.get("api/answer/customer/"+a+"/"+r).then(function(e){t.customerDetail=e.customer,console.log(t.customerDetail),o.modal()},function(t){i.error("Ups ocurrio un problema: "+t.data.message)})},t.submit=function(){return r()?(l.title="¿Todo es correcto?",void swal(l,function(){var e=t.response.id?"PUT":"POST",a="PUT"==e?o.baseUrl("api/answer/customer/"+t.response.id):o.baseUrl("api/answer/customer"),r={method:e,url:a,data:t.response};t.formSubmit=!0,n.custom(r).then(function(e){i.success(e.message),t.formSubmit=!1,t.list(),o.ocultaformulario()},function(e){i.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})):i.error("Debe completar todas las preguntas")},t.cancel=function(){t.response=angular.copy(t.responseClear),t.responsesView=[],o.ocultaformulario()},t["new"]=function(){t.response=angular.copy(t.responseClear),t.responsesView=[],o.muestraformulario()},t.eventCustomer=function(e){"new"==e?(t.response.customer_id=null,t.search=null,t.newCustomer=!0,t.existCustomer=!1,s()):"exist"==e&&(t.newCustomer=!1,t.existCustomer=!0,s())},t.listSearch=function(){"undefined"!=typeof t.search&&(t.listPositiontion(),t.listView=!0,t.response.customer_id=null,n.get("api/answer/customer/search/tag/"+t.search).then(function(e){t.customers=e.customers},function(t){console.log(t),i.error("Huy Huy dice: "+t.data.message)}))},t.selectCustomer=function(e){t.response.customer_id=t.customers[e].id,t.search=t.customers[e].name},t.listPositiontion=function(){var t=$("#searchCustomer").offset();$("#list").css({top:t.top-35,left:t.left})},angular.element(document).ready(function(){o.resetTable(t,e),t.response=angular.copy(t.responseClear),t.responsesView=[],t.newCustomer=!1,t.existCustomer=!1,t.list(),t.listCategories()})}])},{}],36:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("q_products",{url:"/Gestion-de-productos",templateUrl:"app/partials/q_products.html",controller:"q_productsCtrl"})}]).controller("q_productsCtrl",["$scope","$compile","$state","util","petition","toastr",function(t,e,a,o,n,i){function r(){return!(t.questions.length>t.product.responses.length)}o.liPage("q_products"),t.tableConfig={columns:[{sTitle:"Producto",bSortable:!0},{sTitle:"Categoria",bSortable:!0,sWidth:"1px"},{sTitle:"Accion",bSearchable:!0,sWidth:"80px"}],actions:[["actions",[["detalle","detail","btn-info"]]]],data:["name","category.name","actions"]};var s={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0};t.productClear={name:null,category_id:null,questionnaire_id:null,responses:[]},t.list=function(){t.updateList=!0,n.get("api/answer/product").then(function(a){t.tableData=a.products,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),i.error("Huy Huy: "+e.data.message),t.updateList=!1})},t.AddOption=function(e){var a=0;for(e in t.product.responses)if(t.questions[t.question_i].id==t.responsesView[e].question_id){a++;break}0==a&&(i.success("se añadio"),t.product.responses.push({id:t.options[e].id}),t.responsesView.push({question:t.questions[t.question_i].question,question_id:t.questions[t.question_i].id,option:t.options[e].option}),t.question_i=null,t.option_i=null,t.options=[])},t.removeQuestion=function(e){t.product.responses.splice(e,1),t.responsesView.splice(e,1)},t.listOptions=function(e){n.get("api/question/"+t.questions[e].id+"/options").then(function(e){t.options=e.options},function(t){console.log(t),i.error("Huy Huy dice: "+t.data.message)})},t.listQuestions=function(e){t.product.responses=[],t.responsesView=[],n.get("api/questionnaire/category/"+e).then(function(e){t.product.questionnaire_id=e.questionnaire.id,t.questions=e.questionnaire.questions,t.options=[]},function(e){t.questions=[],t.options=[],console.log(e),i.error("Huy Huy dice: "+e.data.message)})},t.listCategories=function(){n.get("api/q_category").then(function(e){t.categories=e.categories},function(t){console.log(t),i.error("Huy Huy dice: "+t.data.message)})},t.detail=function(e){var a=t.tableData[e].id;n.get("api/answer/product/"+a).then(function(e){t.productDetail=e.product,o.modal()},function(t){i.error("Ups ocurrio un problema: "+t.data.message)})},t.submit=function(){return r()?(s.title="¿Todo es correcto?",void swal(s,function(){var e=t.product.id?"PUT":"POST",a="PUT"==e?o.baseUrl("api/answer/product/"+t.product.id):o.baseUrl("api/answer/product"),r={method:e,url:a,
data:t.product};t.formSubmit=!0,n.custom(r).then(function(e){i.success(e.message),t.formSubmit=!1,t.list(),o.ocultaformulario()},function(e){i.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})})):i.error("Debe completar todas las preguntas")},t.cancel=function(){t.product=angular.copy(t.productClear),t.responsesView=[],o.ocultaformulario()},t["new"]=function(){t.product=angular.copy(t.productClear),t.responsesView=[],o.muestraformulario()},angular.element(document).ready(function(){o.resetTable(t,e),t.product=angular.copy(t.productClear),t.responsesView=[],t.list(),t.listCategories()})}])},{}],37:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("questionnaires",{url:"/Gestion-de-cuestionarios",templateUrl:"app/partials/q_questionnaires.html",controller:"questionnairesCtrl"})}]).controller("questionnairesCtrl",["$scope","$compile","$state","util","petition","toastr",function(t,e,a,o,n,r){function s(e,a){t.questionnaire=e,t.questionnaire.questions=[];for(i in a)t.questionnaire.questions.push({id:a[i].id});t.questionsView=a}o.liPage("questionnaires"),t.tableConfig={columns:[{sTitle:"Descripción",bSortable:!0},{sTitle:"Categoria",bSortable:!0,sWidth:"1px"},{sTitle:"Acción",bSearchable:!0,sWidth:"190px"}],actions:[["actions",[["detalle","detail","btn-info"],["editar","edit","btn-primary"]]]],data:["description","category.name","actions"]};var l={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0};t.questionnaireClear={description:null,category_id:null,questions:[]},t.list=function(){t.updateList=!0,n.get("api/questionnaire").then(function(a){t.tableData=a.questionnaires,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),r.error("Huy Huy: "+e.data.message),t.updateList=!1})},t.edit=function(e){n.get("api/questionnaire/"+t.tableData[e].id+"/edit").then(function(e){s(e.questionnaire,e.questions),t.productState=!1,o.muestraformulario()},function(t){console.log(t),r.error("Uyuyuy dice: "+t.data.message)})},t.addQuestion=function(e){var a=0;for(i in t.questionnaire.questions)if(t.questions[e].id==t.questionnaire.questions[i].id){a++,t.question=null;break}0==a&&(r.success("se añadio"),t.questionnaire.questions.push({id:t.questions[e].id}),t.questionsView.push(t.questions[e]),t.question=null)},t.removeQuestion=function(e){t.questionnaire.questions.splice(e,1),t.questionsView.splice(e,1)},t.listQuestions=function(){n.get("api/question").then(function(e){t.questions=e.questions},function(t){console.log(t),r.error("Ups ocurrio un problema: "+t.data.message)})},t.listCategories=function(){n.get("api/q_category").then(function(e){t.categories=e.categories},function(t){console.log(t),r.error("Ups ocurrio un problema: "+t.data.message)})},t.detail=function(e){var a=t.tableData[e].id;n.get("api/questionnaire/"+a).then(function(e){t.questionnaireDetail=e.questionnaire,o.modal()},function(t){r.error("Ups ocurrio un problema: "+t.data.message)})},t.submit=function(){return 0==t.questionnaire.questions.length?r.error("El cuestionario debe tener al menos una pregunta"):(l.title="¿Todo es correcto?",void swal(l,function(){var e=t.questionnaire.id?"PUT":"POST",a="PUT"==e?o.baseUrl("api/questionnaire/"+t.questionnaire.id):o.baseUrl("api/questionnaire"),i={method:e,url:a,data:t.questionnaire};t.formSubmit=!0,n.custom(i).then(function(e){r.success(e.message),t.formSubmit=!1,t.list(),o.ocultaformulario()},function(e){r.error("Uyuyuy dice: "+e.data.message),t.formSubmit=!1})}))},t.cancel=function(){t.questionnaire=angular.copy(t.questionnaireClear),t.questionsView=[],o.ocultaformulario()},t["new"]=function(){t.questionnaire=angular.copy(t.questionnaireClear),t.questionsView=[],o.muestraformulario()},angular.element(document).ready(function(){o.resetTable(t,e),t.questionnaire=angular.copy(t.questionnaireClear),t.questionsView=[],t.list(),t.listQuestions(),t.listCategories()})}])},{}],38:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("questions",{url:"/Gestion-de-preguntas",templateUrl:"app/partials/q_questions.html",controller:"questionsCtrl"})}]).controller("questionsCtrl",["$scope","$compile","$state","util","petition","toastr",function(t,e,a,o,n,r){o.liPage("questions"),t.tableConfig={columns:[{sTitle:"Pregunta",bSortable:!0},{sTitle:"Accion",bSearchable:!0,sWidth:"80px"}],actions:[["actions",[["detalle","view","btn-info"]]]],data:["question","actions"],configStatus:"status"};var s={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0};t.questionClear={question:null,options:[]},t.list=function(){t.updateList=!0,n.get("api/question").then(function(a){t.tableData=a.questions,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),r.error("Huy Huy dice: "+e.data.message),t.updateList=!1})},t.addOption=function(e){var a=0;for(i in t.question.options)if(angular.equals(e,t.question.options[i])){a++;break}0==a&&(r.success("se añadio"),t.question.options.push(e),t.option=null)},t.removeOption=function(e){t.question.options.splice(e,1)},t.view=function(e){var a=t.tableData[e].id;n.get("api/question/"+a).then(function(e){t.questionDetail=e.question,o.modal()},function(t){r.error("Huy Huy dice: "+t.data.message)})},t.submit=function(){return 0==t.question.options.length?r.error("La pregunta debe tener al menos una opción"):(s.title="¿Todo es correcto?",void swal(s,function(){var e=t.question.id?"PUT":"POST",a="PUT"==e?o.baseUrl("api/question/"+t.question.id):o.baseUrl("api/question"),i={method:e,url:a,data:t.question};t.formSubmit=!0,n.custom(i).then(function(e){r.success(e.message),t.formSubmit=!1,t.list(),o.ocultaformulario()},function(e){r.error("Huy Huy dice: "+e.data.message),t.formSubmit=!1})}))},t.cancel=function(){t.question=angular.copy(t.questionClear),o.ocultaformulario()},t["new"]=function(){t.question=angular.copy(t.questionClear),o.muestraformulario()},angular.element(document).ready(function(){o.resetTable(t,e),t.question=angular.copy(t.questionClear),t.list()})}])},{}],39:[function(t,e,a){"use strict";angular.module("App").config(["$stateProvider",function(t){t.state("Usuarios",{url:"/Adminitracion-de-usuarios",templateUrl:"app/partials/users.html",controller:"usersCtrl"})}]).controller("usersCtrl",["$scope","$compile","$log","util","petition","toastr",function(t,e,a,o,n,i){o.liPage("users"),t.tableConfig={columns:[{sTitle:"Nombre",bSortable:!0},{sTitle:"Rol",bSortable:!0},{sTitle:"Estado",bSearchable:!1,bSortable:!1,sWidth:"80px"},{sTitle:"Accion",bSearchable:!1,bSortable:!1,sWidth:"190px"}],actions:[["status",{0:{txt:"Inactivo",cls:"btn-danger"},1:{txt:"Activo",cls:"btn-success"}}],["actions",[["ver","view","btn-info"],["Editar","edit","btn-primary"]]]],data:["full_name","rol","status","actions"],configStatus:"status"};var r={title:"¿Esta seguro?",text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"SI",cancelButtonColor:"#212121",cancelButtonText:"CANCELAR",closeOnConfirm:!0};t.empleadoClear={first_name:"",last_name:"",email:"",phone:"",address:"",birth_date:"",sex:"",photo:"",role_id:"",password:"",status:!0},t.list=function(){n.get("api/user").then(function(a){t.tableData=a.users,$("#table").AJQtable("view",t,e),t.updateList=!1},function(e){console.log(e),i.error("Ups ocurrio un problema: "+e.data.message),t.updateList=!1})},t.status=function(e,o){r.title="¿Desea cambiar el estado del usuario?";var l=t.tableData[e].id;swal(r,function(){n["delete"]("api/user/"+l).then(function(t){i.success(t.message),s(e,o.target)},function(t){a.log(t),i.error("Ups ocurrio un problema: "+t.data.message)})})},t.view=function(e){var a=t.tableData[e].id;t.userDetail={},n.get("api/user/"+a).then(function(e){t.userDetail=e.user,o.modal()},function(t){i.error("Ups ocurrio un problema: "+t.data.message)})},t.ListRoles=function(){n.get("api/user/get/roles").then(function(e){t.roles=e.roles},function(t){i.error("Ups ocurrio un problema: "+t.data.message)})},t.edit=function(e){var a=t.tableData[e].id;n.get("api/user/"+a).then(function(e){e.user.role_id=parseInt(e.user.role_id),e.user.status=parseInt(e.user.status),t.empleado=e.user,t.empleado.password="**********",o.muestraformulario()},function(t){i.error("Ups ocurrio un problema: "+t.data.message)})},t.submit=function(){var e=t.empleado.id?"PUT":"POST",a="PUT"==e?o.baseUrl("api/user/"+t.empleado.id):o.baseUrl("api/user");"**********"==t.empleado.password&&(t.empleado.password=null);var r={method:e,url:a,params:t.empleado};t.formSubmit=!0,n.custom(r).then(function(e){i.success(e.message),t.formSubmit=!1,t.list(),o.ocultaformulario()},function(e){i.error("Ups ocurrio un problema: "+e.data.message),t.formSubmit=!1})},t.cancel=function(){t.empleado=angular.copy(t.empleadoClear),o.ocultaformulario()},t["new"]=function(){t.empleado=angular.copy(t.empleadoClear),o.muestraformulario()},t.getStatus=function(t){return 1==t?"Activo":"Inactivo"};var s=function(e,a){t.tableData[e].status=0==t.tableData[e].status?1:0,1==t.tableData[e].status?($(a).removeClass("btn-danger"),$(a).addClass("btn-success"),$(a).html("Activo")):($(a).removeClass("btn-success"),$(a).addClass("btn-danger"),$(a).html("Inactivo"))};angular.element(document).ready(function(){o.resetTable(t,e),t.empleado=angular.copy(t.empleadoClear),t.list(),t.ListRoles()})}])},{}]},{},[21,5,19,7,8,9,10,11,12,13,39,22,23,29,25,26,30,37,38,34,33,36,35,28,27,15,14,18,17,6,32,31,24,1,16,20,2,3,4]);